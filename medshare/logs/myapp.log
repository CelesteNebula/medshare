2024-05-08T19:06:17.320+08:00  INFO 14828 --- [medshare] [main] c.example.medshare.MedshareApplication   : Starting MedshareApplication v0.0.1-SNAPSHOT using Java 17.0.3 with PID 14828 (D:\javaCode\medshare\target\medshare.jar started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:06:17.335+08:00  INFO 14828 --- [medshare] [main] c.example.medshare.MedshareApplication   : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:06:18.007+08:00  INFO 14828 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:06:18.060+08:00  INFO 14828 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-05-08T19:06:18.329+08:00  WARN 14828 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:06:18.372+08:00  INFO 14828 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:06:18.848+08:00  INFO 14828 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-05-08T19:06:18.862+08:00  INFO 14828 --- [medshare] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-08T19:06:18.863+08:00  INFO 14828 --- [medshare] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-05-08T19:06:18.908+08:00  INFO 14828 --- [medshare] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-05-08T19:06:18.909+08:00  INFO 14828 --- [medshare] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1505 ms
2024-05-08T19:06:19.089+08:00  INFO 14828 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:06:19.138+08:00  INFO 14828 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:06:19.175+08:00  INFO 14828 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:06:19.355+08:00  INFO 14828 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:06:19.382+08:00  INFO 14828 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:06:19.543+08:00  INFO 14828 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65af05b2
2024-05-08T19:06:19.545+08:00  INFO 14828 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:06:19.590+08:00  WARN 14828 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:06:19.592+08:00  WARN 14828 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:06:20.244+08:00  INFO 14828 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:06:20.317+08:00  INFO 14828 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:06:20.981+08:00  WARN 14828 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:06:21.149+08:00 DEBUG 14828 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:06:21.316+08:00  INFO 14828 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66c91224, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ffcb1bd, org.springframework.security.web.context.SecurityContextHolderFilter@3da701a1, org.springframework.security.web.header.HeaderWriterFilter@1f39b3ba, org.springframework.web.filter.CorsFilter@5be8a92c, org.springframework.security.web.authentication.logout.LogoutFilter@6c502018, com.example.medshare.security.JwtTokenFilter@51d80f6e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17d25e1d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@359fd0a2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fae6f43, org.springframework.security.web.access.ExceptionTranslationFilter@d082916, org.springframework.security.web.access.intercept.AuthorizationFilter@4fcb796f]
2024-05-08T19:06:21.374+08:00 DEBUG 14828 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:06:21.375+08:00 DEBUG 14828 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:06:21.375+08:00 DEBUG 14828 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:06:21.375+08:00 DEBUG 14828 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:06:21.376+08:00 DEBUG 14828 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:06:21.376+08:00 DEBUG 14828 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:06:21.382+08:00 DEBUG 14828 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
2024-05-08T19:06:21.384+08:00 DEBUG 14828 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:06:21.686+08:00  INFO 14828 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2024-05-08T19:06:21.690+08:00 DEBUG 14828 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:06:21.691+08:00 DEBUG 14828 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:06:21.693+08:00  INFO 14828 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:06:21.694+08:00 DEBUG 14828 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bb03136]
2024-05-08T19:06:21.694+08:00 DEBUG 14828 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bb03136]
2024-05-08T19:06:21.697+08:00  INFO 14828 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bb03136]]
2024-05-08T19:06:21.698+08:00  INFO 14828 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:06:21.699+08:00 DEBUG 14828 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:06:21.699+08:00 DEBUG 14828 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:06:21.720+08:00  INFO 14828 --- [medshare] [main] c.example.medshare.MedshareApplication   : Started MedshareApplication in 4.833 seconds (process running for 5.336)
2024-05-08T19:06:47.714+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-08T19:06:47.715+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-05-08T19:06:47.716+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-05-08T19:07:16.882+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T19:07:16.883+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7364073b
2024-05-08T19:07:16.884+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : the first member!
2024-05-08T19:07:16.886+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-7] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTY3MzA3fQ.cYcRScVUPI5McVfL6dRtp1zQTZJWEpsm_a9cuJW4tmY1yv7yNBMpFLm4e0J_Y6LF7LYhfoKuLpuRjXHUfzlnng&t=1715166436874
2024-05-08T19:07:16.893+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7364073b
2024-05-08T19:07:16.894+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/740/vorgjorc/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTY3MzA3fQ.cYcRScVUPI5McVfL6dRtp1zQTZJWEpsm_a9cuJW4tmY1yv7yNBMpFLm4e0J_Y6LF7LYhfoKuLpuRjXHUfzlnng
2024-05-08T19:07:16.897+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-9] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T19:07:16.906+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-9] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T19:07:16.950+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=vorgjorc]
2024-05-08T19:07:16.968+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=vorgjorc
2024-05-08T19:07:16.977+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715166436976-571 session=vorgjorc
2024-05-08T19:07:16.978+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715166436976-306 session=vorgjorc
2024-05-08T19:07:16.979+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715166436976-449 session=vorgjorc
2024-05-08T19:07:19.856+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7364073b
2024-05-08T19:07:19.857+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTY3MzIzfQ.JkRrBnFrNnZG25M4xEvEPfSVa2YJcEWVkQPdnrTuwaXgJoZsBY1KiVQDYO2vNbiK-Io6VvdYBfDG7DVMDs_sQQ&t=1715166439854
2024-05-08T19:07:19.862+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7364073b
2024-05-08T19:07:19.863+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/137/5s4zzv5q/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTY3MzIzfQ.JkRrBnFrNnZG25M4xEvEPfSVa2YJcEWVkQPdnrTuwaXgJoZsBY1KiVQDYO2vNbiK-Io6VvdYBfDG7DVMDs_sQQ
2024-05-08T19:07:19.864+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-2] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T19:07:19.865+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-2] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T19:07:19.866+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=5s4zzv5q]
2024-05-08T19:07:19.870+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=5s4zzv5q
2024-05-08T19:07:19.874+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715166439873-444 session=5s4zzv5q
2024-05-08T19:07:19.875+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-20] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715166439874-446 session=5s4zzv5q
2024-05-08T19:07:19.875+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-23] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715166439874-325 session=5s4zzv5q
2024-05-08T19:07:19.971+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-6] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T19:07:19.972+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-6] c.example.medshare.service.RoomService   : the second member!
2024-05-08T19:07:19.972+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-6] c.example.medshare.service.RoomService   : Sending message to user D001 with destination /queue/join
2024-05-08T19:07:19.973+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T19:07:19.974+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:07:19.976+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-uservorgjorc session=null payload={"destination":"D005"}
2024-05-08T19:07:19.977+08:00  INFO 14828 --- [medshare] [http-nio-8080-exec-6] c.example.medshare.service.RoomService   : Message sent to user D001
2024-05-08T19:07:19.977+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T19:07:19.978+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:07:19.978+08:00 DEBUG 14828 --- [medshare] [http-nio-8080-exec-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-user5s4zzv5q session=null payload={"destination":"D001"}
2024-05-08T19:07:19.990+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-1] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5s4zzv5q, lookupDestination='/signal/offer'
2024-05-08T19:07:19.992+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-4] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5s4zzv5q, lookupDestination='/signal/offer'
2024-05-08T19:07:19.992+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-6] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5s4zzv5q, lookupDestination='/signal/offer'
2024-05-08T19:07:19.993+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-6] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:07:19.993+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-4] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:07:19.993+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-1] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:07:20.008+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:07:20.008+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T19:07:20.008+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T19:07:20.009+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:07:20.009+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:07:20.009+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:07:20.010+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-uservorgjorc session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T19:07:20.010+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-uservorgjorc session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:07:20.010+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-uservorgjorc session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T19:07:20.014+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-10] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=vorgjorc, lookupDestination='/signal/offer'
2024-05-08T19:07:20.014+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-10] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:07:20.015+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T19:07:20.015+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:07:20.016+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user5s4zzv5q session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T19:07:20.057+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-13] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5s4zzv5q, lookupDestination='/signal/offer'
2024-05-08T19:07:20.058+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-13] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:07:20.058+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T19:07:20.058+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:07:20.059+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-uservorgjorc session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T19:07:20.086+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5s4zzv5q, lookupDestination='/signal/offer'
2024-05-08T19:07:20.087+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:07:20.088+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:07:20.088+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:07:20.089+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-uservorgjorc session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:07:21.664+08:00  INFO 14828 --- [medshare] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 42], outboundChannel[pool size = 10, active threads = 0, queued tasks = 0, completed tasks = 10], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 2]
2024-05-08T19:16:00.915+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:16:00.916+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] s.w.s.s.t.s.WebSocketServerSockJsSession : Closing SockJS session vorgjorc with CloseStatus[code=1001, reason=null]
2024-05-08T19:16:00.917+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=3478e548-8005-f516-df84-9a2d0dc17a51, uri=ws://localhost:8080/signal/740/vorgjorc/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTY3MzA3fQ.cYcRScVUPI5McVfL6dRtp1zQTZJWEpsm_a9cuJW4tmY1yv7yNBMpFLm4e0J_Y6LF7LYhfoKuLpuRjXHUfzlnng]
2024-05-08T19:16:00.918+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=vorgjorc] closed with CloseStatus[code=1001, reason=null]
2024-05-08T19:16:00.918+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session vorgjorc
2024-05-08T19:16:00.919+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] s.w.s.s.t.s.WebSocketServerSockJsSession : Closing SockJS session 5s4zzv5q with CloseStatus[code=1001, reason=null]
2024-05-08T19:16:00.919+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-26] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=vorgjorc
2024-05-08T19:16:00.920+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=b25ff3ce-8dbe-0c0d-1912-e9ea4230b197, uri=ws://localhost:8080/signal/137/5s4zzv5q/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTY3MzIzfQ.JkRrBnFrNnZG25M4xEvEPfSVa2YJcEWVkQPdnrTuwaXgJoZsBY1KiVQDYO2vNbiK-Io6VvdYBfDG7DVMDs_sQQ]
2024-05-08T19:16:00.920+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=5s4zzv5q] closed with CloseStatus[code=1001, reason=null]
2024-05-08T19:16:00.921+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 5s4zzv5q
2024-05-08T19:16:00.921+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:16:00.921+08:00 DEBUG 14828 --- [medshare] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5s4zzv5q
2024-05-08T19:16:00.921+08:00  INFO 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T19:16:00.922+08:00  INFO 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bb03136]]
2024-05-08T19:16:00.922+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bb03136]
2024-05-08T19:16:00.922+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bb03136]
2024-05-08T19:16:00.922+08:00  INFO 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T19:16:00.923+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:16:00.923+08:00 DEBUG 14828 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:16:00.948+08:00  INFO 14828 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:16:00.950+08:00  INFO 14828 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:16:00.956+08:00  INFO 14828 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:20:23.916+08:00  INFO 19000 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Starting MedshareApplicationTests using Java 17.0.3 with PID 19000 (started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:20:23.917+08:00  INFO 19000 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:20:24.460+08:00  INFO 19000 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:20:24.519+08:00  INFO 19000 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 4 JPA repository interfaces.
2024-05-08T19:20:24.781+08:00  WARN 19000 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:20:24.806+08:00  INFO 19000 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:20:25.095+08:00  INFO 19000 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:20:25.145+08:00  INFO 19000 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:20:25.177+08:00  INFO 19000 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:20:25.445+08:00  INFO 19000 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:20:25.470+08:00  INFO 19000 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:20:25.603+08:00  INFO 19000 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26865b57
2024-05-08T19:20:25.606+08:00  INFO 19000 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:20:25.643+08:00  WARN 19000 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:20:25.644+08:00  WARN 19000 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:20:26.266+08:00  INFO 19000 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:20:26.311+08:00  INFO 19000 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:20:26.937+08:00  WARN 19000 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:20:27.058+08:00 DEBUG 19000 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:20:27.078+08:00  INFO 19000 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:20:27.115+08:00  WARN 19000 --- [medshare] [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed
2024-05-08T19:20:27.116+08:00  INFO 19000 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:20:27.117+08:00  INFO 19000 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:20:27.123+08:00  INFO 19000 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:20:27.130+08:00  INFO 19000 --- [medshare] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-05-08T19:20:27.144+08:00 ERROR 19000 --- [medshare] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Invalid mapping pattern detected:
/**/{path:[^\.]*}
^
No more pattern data allowed after {*...} or ** pattern element

Action:

Fix this pattern in your application or switch to the legacy parser implementation with 'spring.mvc.pathmatch.matching-strategy=ant_path_matcher'.

2024-05-08T19:20:27.149+08:00  WARN 19000 --- [medshare] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.medshare.MedshareApplicationTests@642b2176]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7c6557da testClass = com.example.medshare.MedshareApplicationTests, locations = [], classes = [com.example.medshare.MedshareApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@28194a50, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2ad48653, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@238d68ff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@35a3d49f, org.springframework.boot.test.context.SpringBootTestAnnotation@aacec7a4], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163) ~[spring-test-6.1.6.jar:6.1.6]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.1.2.jar:3.1.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) ~[surefire-junit-platform-3.1.2.jar:3.1.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) ~[surefire-junit-platform-3.1.2.jar:3.1.2]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) ~[surefire-junit-platform-3.1.2.jar:3.1.2]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.1.2.jar:3.1.2]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.1.2.jar:3.1.2]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.1.2.jar:3.1.2]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.1.2.jar:3.1.2]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:514) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.1.6.jar:6.1.6]
	... 73 common frames omitted
Caused by: java.lang.RuntimeException: Could not postProcess org.springframework.security.config.annotation.web.builders.WebSecurity@63df2eb8 of type class org.springframework.security.config.annotation.web.builders.WebSecurity
	at org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor.postProcess(AutowireBeanFactoryObjectPostProcessor.java:71) ~[spring-security-config-6.2.4.jar:6.2.4]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:148) ~[spring-security-config-6.2.4.jar:6.2.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:853) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.6.jar:6.1.6]
	... 95 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospectorRequestTransformer': Cannot resolve reference to bean 'mvcHandlerMappingIntrospector' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:203) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:225) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1323) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1284) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:486) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.getIfUnique(DefaultListableBeanFactory.java:438) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.setApplicationContext(WebSecurity.java:397) ~[spring-security-config-6.2.4.jar:6.2.4]
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:110) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:85) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:422) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:412) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor.initializeBeanIfNeeded(AutowireBeanFactoryObjectPostProcessor.java:98) ~[spring-security-config-6.2.4.jar:6.2.4]
	at org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor.postProcess(AutowireBeanFactoryObjectPostProcessor.java:67) ~[spring-security-config-6.2.4.jar:6.2.4]
	... 103 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invalid mapping on handler class [com.example.medshare.controller.ViewController]: public java.lang.String com.example.medshare.controller.ViewController.redirect()
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.6.jar:6.1.6]
	... 126 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invalid mapping on handler class [com.example.medshare.controller.ViewController]: public java.lang.String com.example.medshare.controller.ViewController.redirect()
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:665) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1388) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:130) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:118) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.6.jar:6.1.6]
	... 133 common frames omitted
Caused by: java.lang.IllegalStateException: Invalid mapping on handler class [com.example.medshare.controller.ViewController]: public java.lang.String com.example.medshare.controller.ViewController.redirect()
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$1(AbstractHandlerMethodMapping.java:287) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.core.MethodIntrospector.lambda$selectMethods$0(MethodIntrospector.java:75) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:366) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.core.MethodIntrospector.selectMethods(MethodIntrospector.java:73) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:280) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:239) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.6.jar:6.1.6]
	... 146 common frames omitted
Caused by: org.springframework.web.util.pattern.PatternParseException: No more pattern data allowed after {*...} or ** pattern element
	at org.springframework.web.util.pattern.InternalPathPatternParser.peekDoubleWildcard(InternalPathPatternParser.java:250) ~[spring-web-6.1.6.jar:6.1.6]
	at org.springframework.web.util.pattern.InternalPathPatternParser.parse(InternalPathPatternParser.java:113) ~[spring-web-6.1.6.jar:6.1.6]
	at org.springframework.web.util.pattern.PathPatternParser.parse(PathPatternParser.java:129) ~[spring-web-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.mvc.condition.PathPatternsRequestCondition.parse(PathPatternsRequestCondition.java:84) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.mvc.condition.PathPatternsRequestCondition.<init>(PathPatternsRequestCondition.java:74) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.mvc.method.RequestMappingInfo$DefaultBuilder.build(RequestMappingInfo.java:716) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.createRequestMappingInfo(RequestMappingHandlerMapping.java:435) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.createRequestMappingInfo(RequestMappingHandlerMapping.java:363) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getMappingForMethod(RequestMappingHandlerMapping.java:317) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getMappingForMethod(RequestMappingHandlerMapping.java:84) ~[spring-webmvc-6.1.6.jar:6.1.6]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$1(AbstractHandlerMethodMapping.java:283) ~[spring-webmvc-6.1.6.jar:6.1.6]
	... 156 common frames omitted

2024-05-08T19:25:04.412+08:00  INFO 14656 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Starting MedshareApplicationTests using Java 17.0.3 with PID 14656 (started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:25:04.413+08:00  INFO 14656 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:25:04.907+08:00  INFO 14656 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:25:04.969+08:00  INFO 14656 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 4 JPA repository interfaces.
2024-05-08T19:25:05.216+08:00  WARN 14656 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:25:05.240+08:00  INFO 14656 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:25:05.493+08:00  INFO 14656 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:25:05.535+08:00  INFO 14656 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:25:05.561+08:00  INFO 14656 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:25:05.807+08:00  INFO 14656 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:25:05.826+08:00  INFO 14656 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:25:05.956+08:00  INFO 14656 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26865b57
2024-05-08T19:25:05.958+08:00  INFO 14656 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:25:05.994+08:00  WARN 14656 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:25:05.995+08:00  WARN 14656 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:25:06.564+08:00  INFO 14656 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:25:06.616+08:00  INFO 14656 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:25:07.196+08:00  WARN 14656 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:25:07.315+08:00 DEBUG 14656 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:25:07.332+08:00  INFO 14656 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:25:07.475+08:00  INFO 14656 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fd70118, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1db7c267, org.springframework.security.web.context.SecurityContextHolderFilter@7828bc6b, org.springframework.security.web.header.HeaderWriterFilter@569026df, org.springframework.web.filter.CorsFilter@516370c1, org.springframework.security.web.authentication.logout.LogoutFilter@113a89c5, com.example.medshare.security.JwtTokenFilter@27563444, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60cbba57, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@614d01b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@507e3e77, org.springframework.security.web.access.ExceptionTranslationFilter@e1d2781, org.springframework.security.web.access.intercept.AuthorizationFilter@671561b9]
2024-05-08T19:25:07.519+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:25:07.520+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:25:07.520+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:25:07.520+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:25:07.520+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:25:07.520+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:25:07.523+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
2024-05-08T19:25:07.524+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.ViewController:
	
2024-05-08T19:25:07.524+08:00 DEBUG 14656 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:25:07.885+08:00 DEBUG 14656 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:25:07.886+08:00 DEBUG 14656 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:25:07.886+08:00  INFO 14656 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:25:07.886+08:00 DEBUG 14656 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6529b078]
2024-05-08T19:25:07.886+08:00 DEBUG 14656 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6529b078]
2024-05-08T19:25:07.888+08:00  INFO 14656 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6529b078]]
2024-05-08T19:25:07.889+08:00  INFO 14656 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:25:07.889+08:00 DEBUG 14656 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:25:07.890+08:00 DEBUG 14656 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:25:07.896+08:00  INFO 14656 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Started MedshareApplicationTests in 3.665 seconds (process running for 4.368)
2024-05-08T19:25:08.418+08:00 DEBUG 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:25:08.418+08:00 DEBUG 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:25:08.418+08:00  INFO 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T19:25:08.418+08:00  INFO 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6529b078]]
2024-05-08T19:25:08.418+08:00 DEBUG 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6529b078]
2024-05-08T19:25:08.418+08:00 DEBUG 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6529b078]
2024-05-08T19:25:08.418+08:00  INFO 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T19:25:08.418+08:00 DEBUG 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:25:08.419+08:00 DEBUG 14656 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:25:08.421+08:00  INFO 14656 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:25:08.422+08:00  INFO 14656 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:25:08.428+08:00  INFO 14656 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:25:18.583+08:00  INFO 20084 --- [medshare] [main] c.example.medshare.MedshareApplication   : Starting MedshareApplication v0.0.1-SNAPSHOT using Java 17.0.3 with PID 20084 (D:\javaCode\medshare\target\medshare.jar started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:25:18.587+08:00  INFO 20084 --- [medshare] [main] c.example.medshare.MedshareApplication   : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:25:19.226+08:00  INFO 20084 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:25:19.282+08:00  INFO 20084 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2024-05-08T19:25:19.536+08:00  WARN 20084 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:25:19.564+08:00  INFO 20084 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:25:20.001+08:00  INFO 20084 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-05-08T19:25:20.014+08:00  INFO 20084 --- [medshare] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-08T19:25:20.014+08:00  INFO 20084 --- [medshare] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-05-08T19:25:20.053+08:00  INFO 20084 --- [medshare] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-05-08T19:25:20.054+08:00  INFO 20084 --- [medshare] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1391 ms
2024-05-08T19:25:20.221+08:00  INFO 20084 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:25:20.275+08:00  INFO 20084 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:25:20.320+08:00  INFO 20084 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:25:20.492+08:00  INFO 20084 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:25:20.517+08:00  INFO 20084 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:25:20.663+08:00  INFO 20084 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c27f72
2024-05-08T19:25:20.665+08:00  INFO 20084 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:25:20.695+08:00  WARN 20084 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:25:20.697+08:00  WARN 20084 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:25:21.239+08:00  INFO 20084 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:25:21.285+08:00  INFO 20084 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:25:21.868+08:00  WARN 20084 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:25:22.009+08:00 DEBUG 20084 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:25:22.026+08:00  INFO 20084 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:25:22.150+08:00  INFO 20084 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1483c738, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66c91224, org.springframework.security.web.context.SecurityContextHolderFilter@34f2d3a6, org.springframework.security.web.header.HeaderWriterFilter@6ddc9001, org.springframework.web.filter.CorsFilter@4ffcb1bd, org.springframework.security.web.authentication.logout.LogoutFilter@19a544cd, com.example.medshare.security.JwtTokenFilter@5be8a92c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f51d1cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17d25e1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51d80f6e, org.springframework.security.web.access.ExceptionTranslationFilter@259ae1a9, org.springframework.security.web.access.intercept.AuthorizationFilter@14c7ab73]
2024-05-08T19:25:22.200+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:25:22.201+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:25:22.201+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:25:22.202+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:25:22.202+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:25:22.202+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:25:22.206+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
2024-05-08T19:25:22.207+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.ViewController:
	
2024-05-08T19:25:22.208+08:00 DEBUG 20084 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:25:22.479+08:00  INFO 20084 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2024-05-08T19:25:22.482+08:00 DEBUG 20084 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:25:22.482+08:00 DEBUG 20084 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:25:22.483+08:00  INFO 20084 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:25:22.483+08:00 DEBUG 20084 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4dfbe8c2]
2024-05-08T19:25:22.483+08:00 DEBUG 20084 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4dfbe8c2]
2024-05-08T19:25:22.485+08:00  INFO 20084 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4dfbe8c2]]
2024-05-08T19:25:22.485+08:00  INFO 20084 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:25:22.486+08:00 DEBUG 20084 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:25:22.486+08:00 DEBUG 20084 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:25:22.501+08:00  INFO 20084 --- [medshare] [main] c.example.medshare.MedshareApplication   : Started MedshareApplication in 4.345 seconds (process running for 4.731)
2024-05-08T19:25:47.676+08:00  INFO 20084 --- [medshare] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-08T19:25:47.676+08:00  INFO 20084 --- [medshare] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-05-08T19:25:47.679+08:00  INFO 20084 --- [medshare] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-05-08T19:26:22.466+08:00  INFO 20084 --- [medshare] [MessageBroker-2] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
2024-05-08T19:26:43.551+08:00 DEBUG 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:26:43.551+08:00 DEBUG 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:26:43.552+08:00  INFO 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T19:26:43.552+08:00  INFO 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4dfbe8c2]]
2024-05-08T19:26:43.552+08:00 DEBUG 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4dfbe8c2]
2024-05-08T19:26:43.552+08:00 DEBUG 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4dfbe8c2]
2024-05-08T19:26:43.553+08:00  INFO 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T19:26:43.553+08:00 DEBUG 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:26:43.553+08:00 DEBUG 20084 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:26:43.579+08:00  INFO 20084 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:26:43.581+08:00  INFO 20084 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:26:43.588+08:00  INFO 20084 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:26:51.739+08:00  INFO 9632 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Starting MedshareApplicationTests using Java 17.0.3 with PID 9632 (started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:26:51.740+08:00  INFO 9632 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:26:52.240+08:00  INFO 9632 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:26:52.294+08:00  INFO 9632 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2024-05-08T19:26:52.541+08:00  WARN 9632 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:26:52.565+08:00  INFO 9632 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:26:52.803+08:00  INFO 9632 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:26:52.844+08:00  INFO 9632 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:26:52.871+08:00  INFO 9632 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:26:53.111+08:00  INFO 9632 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:26:53.134+08:00  INFO 9632 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:26:53.256+08:00  INFO 9632 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3386ed8
2024-05-08T19:26:53.258+08:00  INFO 9632 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:26:53.289+08:00  WARN 9632 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:26:53.290+08:00  WARN 9632 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:26:53.850+08:00  INFO 9632 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:26:53.894+08:00  INFO 9632 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:26:54.490+08:00  WARN 9632 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:26:54.608+08:00 DEBUG 9632 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:26:54.627+08:00  INFO 9632 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:26:54.782+08:00  INFO 9632 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c20abd6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cd2d3b6, org.springframework.security.web.context.SecurityContextHolderFilter@1e60890c, org.springframework.security.web.header.HeaderWriterFilter@769c80d1, org.springframework.web.filter.CorsFilter@7f922523, org.springframework.security.web.authentication.logout.LogoutFilter@5ab1107d, com.example.medshare.security.JwtTokenFilter@1509bd56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52cda4bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40aaf656, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c4eda3a, org.springframework.security.web.access.ExceptionTranslationFilter@60cbba57, org.springframework.security.web.access.intercept.AuthorizationFilter@375682a5]
2024-05-08T19:26:54.831+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:26:54.831+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:26:54.831+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:26:54.832+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:26:54.832+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:26:54.832+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:26:54.835+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
2024-05-08T19:26:54.836+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.ViewController:
	
2024-05-08T19:26:54.836+08:00 DEBUG 9632 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:26:55.254+08:00 DEBUG 9632 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:26:55.254+08:00 DEBUG 9632 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:26:55.255+08:00  INFO 9632 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:26:55.255+08:00 DEBUG 9632 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]
2024-05-08T19:26:55.255+08:00 DEBUG 9632 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]
2024-05-08T19:26:55.256+08:00  INFO 9632 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]]
2024-05-08T19:26:55.257+08:00  INFO 9632 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:26:55.258+08:00 DEBUG 9632 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:26:55.258+08:00 DEBUG 9632 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:26:55.265+08:00  INFO 9632 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Started MedshareApplicationTests in 3.718 seconds (process running for 4.407)
2024-05-08T19:26:55.794+08:00 DEBUG 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:26:55.795+08:00 DEBUG 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:26:55.795+08:00  INFO 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T19:26:55.795+08:00  INFO 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]]
2024-05-08T19:26:55.795+08:00 DEBUG 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]
2024-05-08T19:26:55.795+08:00 DEBUG 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]
2024-05-08T19:26:55.796+08:00  INFO 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T19:26:55.796+08:00 DEBUG 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:26:55.796+08:00 DEBUG 9632 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:26:55.798+08:00  INFO 9632 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:26:55.800+08:00  INFO 9632 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:26:55.807+08:00  INFO 9632 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:27:00.380+08:00  INFO 4048 --- [medshare] [main] c.example.medshare.MedshareApplication   : Starting MedshareApplication v0.0.1-SNAPSHOT using Java 17.0.3 with PID 4048 (D:\javaCode\medshare\target\medshare.jar started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:27:00.384+08:00  INFO 4048 --- [medshare] [main] c.example.medshare.MedshareApplication   : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:27:01.083+08:00  INFO 4048 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:27:01.140+08:00  INFO 4048 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 4 JPA repository interfaces.
2024-05-08T19:27:01.398+08:00  WARN 4048 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:27:01.432+08:00  INFO 4048 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:27:01.895+08:00  INFO 4048 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-05-08T19:27:01.907+08:00  INFO 4048 --- [medshare] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-08T19:27:01.907+08:00  INFO 4048 --- [medshare] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-05-08T19:27:01.955+08:00  INFO 4048 --- [medshare] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-05-08T19:27:01.956+08:00  INFO 4048 --- [medshare] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1490 ms
2024-05-08T19:27:02.131+08:00  INFO 4048 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:27:02.180+08:00  INFO 4048 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:27:02.210+08:00  INFO 4048 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:27:02.371+08:00  INFO 4048 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:27:02.394+08:00  INFO 4048 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:27:02.530+08:00  INFO 4048 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1dca62c2
2024-05-08T19:27:02.532+08:00  INFO 4048 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:27:02.564+08:00  WARN 4048 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:27:02.566+08:00  WARN 4048 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:27:03.091+08:00  INFO 4048 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:27:03.137+08:00  INFO 4048 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:27:03.722+08:00  WARN 4048 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:27:03.853+08:00 DEBUG 4048 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:27:03.872+08:00  INFO 4048 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:27:03.991+08:00  INFO 4048 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5af8ef61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5620470a, org.springframework.security.web.context.SecurityContextHolderFilter@1f7853af, org.springframework.security.web.header.HeaderWriterFilter@30b075b9, org.springframework.web.filter.CorsFilter@29682244, org.springframework.security.web.authentication.logout.LogoutFilter@24f8707c, com.example.medshare.security.JwtTokenFilter@3368cf02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d970881, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@153cf928, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e76ade9, org.springframework.security.web.access.ExceptionTranslationFilter@6f51d1cc, org.springframework.security.web.access.intercept.AuthorizationFilter@55f54852]
2024-05-08T19:27:04.043+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:27:04.044+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:27:04.044+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:27:04.044+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:27:04.045+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:27:04.045+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:27:04.049+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
2024-05-08T19:27:04.050+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.ViewController:
	
2024-05-08T19:27:04.051+08:00 DEBUG 4048 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:27:04.319+08:00  INFO 4048 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2024-05-08T19:27:04.322+08:00 DEBUG 4048 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:27:04.322+08:00 DEBUG 4048 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:27:04.323+08:00  INFO 4048 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:27:04.323+08:00 DEBUG 4048 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2cc7b63d]
2024-05-08T19:27:04.324+08:00 DEBUG 4048 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2cc7b63d]
2024-05-08T19:27:04.325+08:00  INFO 4048 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2cc7b63d]]
2024-05-08T19:27:04.326+08:00  INFO 4048 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:27:04.327+08:00 DEBUG 4048 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:27:04.327+08:00 DEBUG 4048 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:27:04.343+08:00  INFO 4048 --- [medshare] [main] c.example.medshare.MedshareApplication   : Started MedshareApplication in 4.423 seconds (process running for 4.805)
2024-05-08T19:27:08.595+08:00  INFO 4048 --- [medshare] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-08T19:27:08.596+08:00  INFO 4048 --- [medshare] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-05-08T19:27:08.597+08:00  INFO 4048 --- [medshare] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-05-08T19:28:04.312+08:00  INFO 4048 --- [medshare] [MessageBroker-2] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
2024-05-08T19:28:55.619+08:00 DEBUG 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:28:55.619+08:00 DEBUG 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:28:55.620+08:00  INFO 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T19:28:55.620+08:00  INFO 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2cc7b63d]]
2024-05-08T19:28:55.620+08:00 DEBUG 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2cc7b63d]
2024-05-08T19:28:55.620+08:00 DEBUG 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2cc7b63d]
2024-05-08T19:28:55.620+08:00  INFO 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T19:28:55.621+08:00 DEBUG 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:28:55.621+08:00 DEBUG 4048 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:28:55.648+08:00  INFO 4048 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:28:55.650+08:00  INFO 4048 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:28:55.656+08:00  INFO 4048 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:29:04.526+08:00  INFO 3368 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Starting MedshareApplicationTests using Java 17.0.3 with PID 3368 (started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:29:04.528+08:00  INFO 3368 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:29:05.157+08:00  INFO 3368 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:29:05.229+08:00  INFO 3368 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2024-05-08T19:29:05.560+08:00  WARN 3368 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:29:05.593+08:00  INFO 3368 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:29:05.905+08:00  INFO 3368 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:29:05.953+08:00  INFO 3368 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:29:06.000+08:00  INFO 3368 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:29:06.272+08:00  INFO 3368 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:29:06.299+08:00  INFO 3368 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:29:06.472+08:00  INFO 3368 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@727453a3
2024-05-08T19:29:06.476+08:00  INFO 3368 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:29:06.510+08:00  WARN 3368 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:29:06.511+08:00  WARN 3368 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:29:07.189+08:00  INFO 3368 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:29:07.248+08:00  INFO 3368 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:29:07.950+08:00  WARN 3368 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:29:08.090+08:00 DEBUG 3368 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:29:08.112+08:00  INFO 3368 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:29:08.285+08:00  INFO 3368 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c20abd6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cd2d3b6, org.springframework.security.web.context.SecurityContextHolderFilter@1e60890c, org.springframework.security.web.header.HeaderWriterFilter@769c80d1, org.springframework.web.filter.CorsFilter@7f922523, org.springframework.security.web.authentication.logout.LogoutFilter@5ab1107d, com.example.medshare.security.JwtTokenFilter@1509bd56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52cda4bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40aaf656, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c4eda3a, org.springframework.security.web.access.ExceptionTranslationFilter@60cbba57, org.springframework.security.web.access.intercept.AuthorizationFilter@375682a5]
2024-05-08T19:29:08.359+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:29:08.360+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:29:08.360+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:29:08.361+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:29:08.361+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:29:08.361+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:29:08.365+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
2024-05-08T19:29:08.366+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.ViewController:
	
2024-05-08T19:29:08.366+08:00 DEBUG 3368 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:29:08.811+08:00 DEBUG 3368 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:29:08.812+08:00 DEBUG 3368 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:29:08.812+08:00  INFO 3368 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:29:08.812+08:00 DEBUG 3368 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]
2024-05-08T19:29:08.812+08:00 DEBUG 3368 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]
2024-05-08T19:29:08.813+08:00  INFO 3368 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]]
2024-05-08T19:29:08.814+08:00  INFO 3368 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:29:08.814+08:00 DEBUG 3368 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:08.814+08:00 DEBUG 3368 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:08.821+08:00  INFO 3368 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Started MedshareApplicationTests in 4.48 seconds (process running for 5.202)
2024-05-08T19:29:09.436+08:00 DEBUG 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:29:09.437+08:00 DEBUG 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:29:09.437+08:00  INFO 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T19:29:09.437+08:00  INFO 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]]
2024-05-08T19:29:09.438+08:00 DEBUG 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]
2024-05-08T19:29:09.438+08:00 DEBUG 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7314f4cb]
2024-05-08T19:29:09.438+08:00  INFO 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T19:29:09.438+08:00 DEBUG 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:09.438+08:00 DEBUG 3368 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:09.440+08:00  INFO 3368 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:29:09.442+08:00  INFO 3368 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:29:09.449+08:00  INFO 3368 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:29:42.545+08:00  INFO 8428 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Starting MedshareApplicationTests using Java 17.0.3 with PID 8428 (started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:29:42.547+08:00  INFO 8428 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:29:43.067+08:00  INFO 8428 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:29:43.121+08:00  INFO 8428 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2024-05-08T19:29:43.368+08:00  WARN 8428 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:29:43.397+08:00  INFO 8428 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:29:43.640+08:00  INFO 8428 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:29:43.682+08:00  INFO 8428 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:29:43.710+08:00  INFO 8428 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:29:43.956+08:00  INFO 8428 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:29:43.979+08:00  INFO 8428 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:29:44.093+08:00  INFO 8428 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43ab9ae9
2024-05-08T19:29:44.095+08:00  INFO 8428 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:29:44.124+08:00  WARN 8428 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:29:44.124+08:00  WARN 8428 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:29:44.746+08:00  INFO 8428 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:29:44.799+08:00  INFO 8428 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:29:45.516+08:00  WARN 8428 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:29:45.630+08:00 DEBUG 8428 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:29:45.649+08:00  INFO 8428 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:29:45.806+08:00  INFO 8428 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@671561b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aebdb4, org.springframework.security.web.context.SecurityContextHolderFilter@7896e96a, org.springframework.security.web.header.HeaderWriterFilter@186fc6e, org.springframework.web.filter.CorsFilter@4fd70118, org.springframework.security.web.authentication.logout.LogoutFilter@407ff25f, com.example.medshare.security.JwtTokenFilter@1db7c267, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7828bc6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f59cb6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@516370c1, org.springframework.security.web.access.ExceptionTranslationFilter@2e2a2b07, org.springframework.security.web.access.intercept.AuthorizationFilter@347f0950]
2024-05-08T19:29:45.855+08:00 DEBUG 8428 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:29:45.856+08:00 DEBUG 8428 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:29:45.856+08:00 DEBUG 8428 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:29:45.856+08:00 DEBUG 8428 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:29:45.856+08:00 DEBUG 8428 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:29:45.857+08:00 DEBUG 8428 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:29:45.861+08:00 DEBUG 8428 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
2024-05-08T19:29:45.861+08:00 DEBUG 8428 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:29:46.232+08:00 DEBUG 8428 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:29:46.233+08:00 DEBUG 8428 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:29:46.233+08:00  INFO 8428 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:29:46.233+08:00 DEBUG 8428 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3fb5809a]
2024-05-08T19:29:46.233+08:00 DEBUG 8428 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3fb5809a]
2024-05-08T19:29:46.234+08:00  INFO 8428 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3fb5809a]]
2024-05-08T19:29:46.235+08:00  INFO 8428 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:29:46.236+08:00 DEBUG 8428 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:46.236+08:00 DEBUG 8428 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:46.243+08:00  INFO 8428 --- [medshare] [main] c.e.medshare.MedshareApplicationTests    : Started MedshareApplicationTests in 3.892 seconds (process running for 4.579)
2024-05-08T19:29:46.725+08:00 DEBUG 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:29:46.726+08:00 DEBUG 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:29:46.726+08:00  INFO 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T19:29:46.726+08:00  INFO 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3fb5809a]]
2024-05-08T19:29:46.726+08:00 DEBUG 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3fb5809a]
2024-05-08T19:29:46.726+08:00 DEBUG 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3fb5809a]
2024-05-08T19:29:46.726+08:00  INFO 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T19:29:46.726+08:00 DEBUG 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:46.726+08:00 DEBUG 8428 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:46.728+08:00  INFO 8428 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:29:46.730+08:00  INFO 8428 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:29:46.735+08:00  INFO 8428 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:29:50.408+08:00  INFO 12232 --- [medshare] [main] c.example.medshare.MedshareApplication   : Starting MedshareApplication v0.0.1-SNAPSHOT using Java 17.0.3 with PID 12232 (D:\javaCode\medshare\target\medshare.jar started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:29:50.417+08:00  INFO 12232 --- [medshare] [main] c.example.medshare.MedshareApplication   : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:29:51.152+08:00  INFO 12232 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:29:51.240+08:00  INFO 12232 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 4 JPA repository interfaces.
2024-05-08T19:29:51.562+08:00  WARN 12232 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:29:51.594+08:00  INFO 12232 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:29:52.096+08:00  INFO 12232 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-05-08T19:29:52.110+08:00  INFO 12232 --- [medshare] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-08T19:29:52.110+08:00  INFO 12232 --- [medshare] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-05-08T19:29:52.156+08:00  INFO 12232 --- [medshare] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-05-08T19:29:52.156+08:00  INFO 12232 --- [medshare] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1657 ms
2024-05-08T19:29:52.364+08:00  INFO 12232 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:29:52.415+08:00  INFO 12232 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:29:52.453+08:00  INFO 12232 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:29:52.663+08:00  INFO 12232 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:29:52.691+08:00  INFO 12232 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:29:52.892+08:00  INFO 12232 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46524ebe
2024-05-08T19:29:52.894+08:00  INFO 12232 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:29:52.948+08:00  WARN 12232 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:29:52.950+08:00  WARN 12232 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:29:53.649+08:00  INFO 12232 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:29:53.700+08:00  INFO 12232 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:29:54.377+08:00  WARN 12232 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:29:54.521+08:00 DEBUG 12232 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:29:54.540+08:00  INFO 12232 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:29:54.705+08:00  INFO 12232 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ab8f93, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6037748a, org.springframework.security.web.context.SecurityContextHolderFilter@d082916, org.springframework.security.web.header.HeaderWriterFilter@4ed492df, org.springframework.web.filter.CorsFilter@4d87e7f3, org.springframework.security.web.authentication.logout.LogoutFilter@76cad511, com.example.medshare.security.JwtTokenFilter@14c7ab73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ddc9001, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f39b3ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fcb796f, org.springframework.security.web.access.ExceptionTranslationFilter@3f7d73e3, org.springframework.security.web.access.intercept.AuthorizationFilter@7e4a6afd]
2024-05-08T19:29:54.775+08:00 DEBUG 12232 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:29:54.776+08:00 DEBUG 12232 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:29:54.777+08:00 DEBUG 12232 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:29:54.779+08:00 DEBUG 12232 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:29:54.780+08:00 DEBUG 12232 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:29:54.781+08:00 DEBUG 12232 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:29:54.787+08:00 DEBUG 12232 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
2024-05-08T19:29:54.789+08:00 DEBUG 12232 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:29:55.127+08:00  INFO 12232 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2024-05-08T19:29:55.130+08:00 DEBUG 12232 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:29:55.131+08:00 DEBUG 12232 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:29:55.131+08:00  INFO 12232 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:29:55.132+08:00 DEBUG 12232 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]
2024-05-08T19:29:55.132+08:00 DEBUG 12232 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]
2024-05-08T19:29:55.134+08:00  INFO 12232 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]]
2024-05-08T19:29:55.135+08:00  INFO 12232 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:29:55.135+08:00 DEBUG 12232 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:55.136+08:00 DEBUG 12232 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:29:55.154+08:00  INFO 12232 --- [medshare] [main] c.example.medshare.MedshareApplication   : Started MedshareApplication in 5.179 seconds (process running for 5.564)
2024-05-08T19:30:23.248+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-08T19:30:23.249+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-05-08T19:30:23.250+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-05-08T19:30:39.519+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-2] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T19:30:39.521+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-2] c.example.medshare.service.RoomService   : the first member!
2024-05-08T19:30:39.524+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ef3efcc
2024-05-08T19:30:39.527+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-3] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTY4NzM1fQ.cV8QKv_3qRlrVSkjgtESA1ah-R2MFz4yClR3rHihZjtI6R-M6LBuQSdtmZb5hTo-ePwFR7zJwNXhk06PRGeYTQ&t=1715167839515
2024-05-08T19:30:39.534+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ef3efcc
2024-05-08T19:30:39.535+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/541/b1cl1pv0/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTY4NzM1fQ.cV8QKv_3qRlrVSkjgtESA1ah-R2MFz4yClR3rHihZjtI6R-M6LBuQSdtmZb5hTo-ePwFR7zJwNXhk06PRGeYTQ
2024-05-08T19:30:39.536+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-1] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T19:30:39.540+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-1] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T19:30:39.573+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=b1cl1pv0]
2024-05-08T19:30:39.591+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=b1cl1pv0
2024-05-08T19:30:39.598+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715167839596-420 session=b1cl1pv0
2024-05-08T19:30:39.599+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715167839596-368 session=b1cl1pv0
2024-05-08T19:30:39.600+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715167839596-789 session=b1cl1pv0
2024-05-08T19:30:44.142+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ef3efcc
2024-05-08T19:30:44.143+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTY4NzIzfQ.vzHhoIr_Ef1AdCfTPkg5zRGipvmOWU9KuCLq7QHQUPZnK4oAPWDPQH3Fgy4lI6e0L_eEOoSTyJrZw73qZAZJXA&t=1715167844138
2024-05-08T19:30:44.148+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2ef3efcc
2024-05-08T19:30:44.149+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/123/4jj00v5x/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTY4NzIzfQ.vzHhoIr_Ef1AdCfTPkg5zRGipvmOWU9KuCLq7QHQUPZnK4oAPWDPQH3Fgy4lI6e0L_eEOoSTyJrZw73qZAZJXA
2024-05-08T19:30:44.150+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-6] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T19:30:44.151+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-6] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T19:30:44.152+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=4jj00v5x]
2024-05-08T19:30:44.154+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=4jj00v5x
2024-05-08T19:30:44.157+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715167844156-260 session=4jj00v5x
2024-05-08T19:30:44.157+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-20] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715167844156-314 session=4jj00v5x
2024-05-08T19:30:44.157+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-23] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715167844156-588 session=4jj00v5x
2024-05-08T19:30:44.251+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-9] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T19:30:44.252+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-9] c.example.medshare.service.RoomService   : the second member!
2024-05-08T19:30:44.252+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-9] c.example.medshare.service.RoomService   : Sending message to user D005 with destination /queue/join
2024-05-08T19:30:44.253+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-9] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T19:30:44.254+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-9] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:30:44.256+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-9] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userb1cl1pv0 session=null payload={"destination":"D001"}
2024-05-08T19:30:44.257+08:00  INFO 12232 --- [medshare] [http-nio-8080-exec-9] c.example.medshare.service.RoomService   : Message sent to user D005
2024-05-08T19:30:44.257+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-9] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T19:30:44.257+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-9] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:30:44.258+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-9] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-user4jj00v5x session=null payload={"destination":"D005"}
2024-05-08T19:30:44.262+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-1] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=b1cl1pv0, lookupDestination='/signal/offer'
2024-05-08T19:30:44.265+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-4] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=b1cl1pv0, lookupDestination='/signal/offer'
2024-05-08T19:30:44.265+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-10] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=b1cl1pv0, lookupDestination='/signal/offer'
2024-05-08T19:30:44.267+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-10] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:30:44.267+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-1] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:30:44.267+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-4] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:30:44.279+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:30:44.279+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T19:30:44.279+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:30:44.279+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:30:44.279+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:30:44.279+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:30:44.280+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user4jj00v5x session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:30:44.280+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user4jj00v5x session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T19:30:44.280+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user4jj00v5x session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:30:44.283+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-11] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=4jj00v5x, lookupDestination='/signal/offer'
2024-05-08T19:30:44.284+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-11] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:30:44.285+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T19:30:44.285+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:30:44.285+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userb1cl1pv0 session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T19:30:44.332+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-13] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=b1cl1pv0, lookupDestination='/signal/offer'
2024-05-08T19:30:44.333+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-13] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:30:44.333+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T19:30:44.333+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:30:44.334+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user4jj00v5x session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T19:30:44.361+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=b1cl1pv0, lookupDestination='/signal/offer'
2024-05-08T19:30:44.362+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T19:30:44.363+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:30:44.363+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T19:30:44.363+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user4jj00v5x session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T19:30:55.114+08:00  INFO 12232 --- [medshare] [MessageBroker-3] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 42], outboundChannel[pool size = 10, active threads = 0, queued tasks = 0, completed tasks = 10], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 5]
2024-05-08T19:31:18.936+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=4jj00v5x] closed with CloseStatus[code=1000, reason=null]
2024-05-08T19:31:18.937+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 4jj00v5x
2024-05-08T19:31:18.938+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=4jj00v5x
2024-05-08T19:31:18.939+08:00 DEBUG 12232 --- [medshare] [clientOutboundChannel-11] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@3052d175}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3052d175, simpSessionId=4jj00v5x}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3052d175, simpSessionId=4jj00v5x}]
2024-05-08T19:31:19.657+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=b1cl1pv0] closed with CloseStatus[code=1000, reason=null]
2024-05-08T19:31:19.657+08:00 DEBUG 12232 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b1cl1pv0
2024-05-08T19:31:19.658+08:00 DEBUG 12232 --- [medshare] [clientInboundChannel-24] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b1cl1pv0
2024-05-08T19:31:19.658+08:00 DEBUG 12232 --- [medshare] [clientOutboundChannel-12] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@64f9f563}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@64f9f563, simpSessionId=b1cl1pv0}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@64f9f563, simpSessionId=b1cl1pv0}]
2024-05-08T19:31:24.547+08:00 DEBUG 12232 --- [medshare] [MessageBroker-5] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 1 sessions: [4jj00v5x]
2024-05-08T19:31:25.928+08:00 DEBUG 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:31:25.929+08:00 DEBUG 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:31:25.929+08:00  INFO 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T19:31:25.929+08:00  INFO 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]]
2024-05-08T19:31:25.929+08:00 DEBUG 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]
2024-05-08T19:31:25.930+08:00 DEBUG 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]
2024-05-08T19:31:25.930+08:00  INFO 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T19:31:25.930+08:00 DEBUG 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:31:25.930+08:00 DEBUG 12232 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:31:25.958+08:00  INFO 12232 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:31:25.960+08:00  INFO 12232 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T19:31:25.966+08:00  INFO 12232 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T19:31:29.412+08:00  INFO 17852 --- [medshare] [main] c.example.medshare.MedshareApplication   : Starting MedshareApplication v0.0.1-SNAPSHOT using Java 17.0.3 with PID 17852 (D:\javaCode\medshare\target\medshare.jar started by ”Ó in D:\javaCode\medshare)
2024-05-08T19:31:29.419+08:00  INFO 17852 --- [medshare] [main] c.example.medshare.MedshareApplication   : No active profile set, falling back to 1 default profile: "default"
2024-05-08T19:31:30.117+08:00  INFO 17852 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T19:31:30.177+08:00  INFO 17852 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 4 JPA repository interfaces.
2024-05-08T19:31:30.485+08:00  WARN 17852 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T19:31:30.512+08:00  INFO 17852 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T19:31:30.952+08:00  INFO 17852 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-05-08T19:31:30.965+08:00  INFO 17852 --- [medshare] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-08T19:31:30.965+08:00  INFO 17852 --- [medshare] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-05-08T19:31:31.011+08:00  INFO 17852 --- [medshare] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-05-08T19:31:31.012+08:00  INFO 17852 --- [medshare] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1521 ms
2024-05-08T19:31:31.200+08:00  INFO 17852 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T19:31:31.247+08:00  INFO 17852 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T19:31:31.282+08:00  INFO 17852 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T19:31:31.448+08:00  INFO 17852 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T19:31:31.472+08:00  INFO 17852 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T19:31:31.625+08:00  INFO 17852 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41be8db9
2024-05-08T19:31:31.627+08:00  INFO 17852 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T19:31:31.660+08:00  WARN 17852 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T19:31:31.662+08:00  WARN 17852 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T19:31:32.229+08:00  INFO 17852 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T19:31:32.278+08:00  INFO 17852 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T19:31:32.866+08:00  WARN 17852 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T19:31:33.009+08:00 DEBUG 17852 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T19:31:33.028+08:00  INFO 17852 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T19:31:33.152+08:00  INFO 17852 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ab8f93, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6037748a, org.springframework.security.web.context.SecurityContextHolderFilter@d082916, org.springframework.security.web.header.HeaderWriterFilter@4ed492df, org.springframework.web.filter.CorsFilter@4d87e7f3, org.springframework.security.web.authentication.logout.LogoutFilter@76cad511, com.example.medshare.security.JwtTokenFilter@14c7ab73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ddc9001, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f39b3ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fcb796f, org.springframework.security.web.access.ExceptionTranslationFilter@3f7d73e3, org.springframework.security.web.access.intercept.AuthorizationFilter@7e4a6afd]
2024-05-08T19:31:33.206+08:00 DEBUG 17852 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T19:31:33.207+08:00 DEBUG 17852 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T19:31:33.208+08:00 DEBUG 17852 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T19:31:33.208+08:00 DEBUG 17852 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T19:31:33.208+08:00 DEBUG 17852 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T19:31:33.209+08:00 DEBUG 17852 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T19:31:33.214+08:00 DEBUG 17852 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
2024-05-08T19:31:33.216+08:00 DEBUG 17852 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T19:31:33.503+08:00  INFO 17852 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2024-05-08T19:31:33.505+08:00 DEBUG 17852 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T19:31:33.506+08:00 DEBUG 17852 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T19:31:33.506+08:00  INFO 17852 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T19:31:33.507+08:00 DEBUG 17852 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]
2024-05-08T19:31:33.507+08:00 DEBUG 17852 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]
2024-05-08T19:31:33.508+08:00  INFO 17852 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@593d0173]]
2024-05-08T19:31:33.509+08:00  INFO 17852 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T19:31:33.509+08:00 DEBUG 17852 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:31:33.510+08:00 DEBUG 17852 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T19:31:33.524+08:00  INFO 17852 --- [medshare] [main] c.example.medshare.MedshareApplication   : Started MedshareApplication in 4.538 seconds (process running for 4.927)
2024-05-08T19:32:33.498+08:00  INFO 17852 --- [medshare] [MessageBroker-2] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
2024-05-08T20:27:24.661+08:00  INFO 12268 --- [medshare] [main] c.example.medshare.MedshareApplication   : Starting MedshareApplication v0.0.1-SNAPSHOT using Java 17.0.3 with PID 12268 (D:\javaCode\medshare\target\medshare.jar started by ”Ó in D:\javaCode\medshare)
2024-05-08T20:27:24.666+08:00  INFO 12268 --- [medshare] [main] c.example.medshare.MedshareApplication   : No active profile set, falling back to 1 default profile: "default"
2024-05-08T20:27:25.331+08:00  INFO 12268 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T20:27:25.385+08:00  INFO 12268 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-05-08T20:27:25.653+08:00  WARN 12268 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T20:27:25.697+08:00  INFO 12268 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T20:27:26.137+08:00  INFO 12268 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-05-08T20:27:26.155+08:00  INFO 12268 --- [medshare] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-08T20:27:26.156+08:00  INFO 12268 --- [medshare] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-05-08T20:27:26.194+08:00  INFO 12268 --- [medshare] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-05-08T20:27:26.195+08:00  INFO 12268 --- [medshare] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1452 ms
2024-05-08T20:27:26.379+08:00  INFO 12268 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T20:27:26.432+08:00  INFO 12268 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T20:27:26.467+08:00  INFO 12268 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T20:27:26.645+08:00  INFO 12268 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T20:27:26.671+08:00  INFO 12268 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T20:27:26.833+08:00  INFO 12268 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1de85972
2024-05-08T20:27:26.835+08:00  INFO 12268 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T20:27:26.868+08:00  WARN 12268 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T20:27:26.870+08:00  WARN 12268 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T20:27:27.416+08:00  INFO 12268 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T20:27:27.464+08:00  INFO 12268 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T20:27:28.064+08:00  WARN 12268 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T20:27:28.212+08:00 DEBUG 12268 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T20:27:28.229+08:00  INFO 12268 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T20:27:28.355+08:00  INFO 12268 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51d80f6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fae6f43, org.springframework.security.web.context.SecurityContextHolderFilter@359fd0a2, org.springframework.security.web.header.HeaderWriterFilter@3da701a1, org.springframework.web.filter.CorsFilter@55f54852, org.springframework.security.web.authentication.logout.LogoutFilter@6e669b5c, com.example.medshare.security.JwtTokenFilter@4bca2a09, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@510e0dd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54a98358, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5af8ef61, org.springframework.security.web.access.ExceptionTranslationFilter@1f39b3ba, org.springframework.security.web.access.intercept.AuthorizationFilter@4ffcb1bd]
2024-05-08T20:27:28.409+08:00 DEBUG 12268 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T20:27:28.410+08:00 DEBUG 12268 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T20:27:28.411+08:00 DEBUG 12268 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T20:27:28.411+08:00 DEBUG 12268 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T20:27:28.411+08:00 DEBUG 12268 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T20:27:28.412+08:00 DEBUG 12268 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T20:27:28.416+08:00 DEBUG 12268 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
2024-05-08T20:27:28.417+08:00 DEBUG 12268 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T20:27:28.699+08:00  INFO 12268 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2024-05-08T20:27:28.701+08:00 DEBUG 12268 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T20:27:28.702+08:00 DEBUG 12268 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T20:27:28.702+08:00  INFO 12268 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T20:27:28.702+08:00 DEBUG 12268 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3509f32d]
2024-05-08T20:27:28.703+08:00 DEBUG 12268 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3509f32d]
2024-05-08T20:27:28.704+08:00  INFO 12268 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3509f32d]]
2024-05-08T20:27:28.704+08:00  INFO 12268 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T20:27:28.705+08:00 DEBUG 12268 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T20:27:28.705+08:00 DEBUG 12268 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T20:27:28.723+08:00  INFO 12268 --- [medshare] [main] c.example.medshare.MedshareApplication   : Started MedshareApplication in 4.53 seconds (process running for 5.036)
2024-05-08T20:27:52.474+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-08T20:27:52.474+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-05-08T20:27:52.476+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-05-08T20:28:24.931+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T20:28:24.932+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:28:24.933+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : the first member!
2024-05-08T20:28:24.935+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyMTcyfQ.86kGP3MHSW6Z0rCyWq5YcACkvoTgiHt2eLdKE6iJTC8XqU27AR3FxL4ykrrbDSNfach_5TV7X5LHlFWeHMxxEw&t=1715171304925
2024-05-08T20:28:24.941+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:28:24.943+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/030/zldp4mcn/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyMTcyfQ.86kGP3MHSW6Z0rCyWq5YcACkvoTgiHt2eLdKE6iJTC8XqU27AR3FxL4ykrrbDSNfach_5TV7X5LHlFWeHMxxEw
2024-05-08T20:28:24.945+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-9] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T20:28:24.950+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-9] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T20:28:24.990+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=zldp4mcn]
2024-05-08T20:28:25.009+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=zldp4mcn
2024-05-08T20:28:25.017+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715171305016-397 session=zldp4mcn
2024-05-08T20:28:25.019+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715171305016-366 session=zldp4mcn
2024-05-08T20:28:25.020+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715171305017-725 session=zldp4mcn
2024-05-08T20:28:27.268+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:28:27.269+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyMTgxfQ.4od5KIY2OwsXjkpctBTQ8kT96HxZzidXTyQJiW6-P2trCO1mJkTiGCITA5DCjkUulZs8TMC2RihnhPvj5DANiA&t=1715171307264
2024-05-08T20:28:27.274+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:28:27.275+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/600/tizhn0i0/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyMTgxfQ.4od5KIY2OwsXjkpctBTQ8kT96HxZzidXTyQJiW6-P2trCO1mJkTiGCITA5DCjkUulZs8TMC2RihnhPvj5DANiA
2024-05-08T20:28:27.276+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-1] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T20:28:27.277+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-1] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T20:28:27.279+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=tizhn0i0]
2024-05-08T20:28:27.282+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=tizhn0i0
2024-05-08T20:28:27.287+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715171307285-725 session=tizhn0i0
2024-05-08T20:28:27.287+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-20] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715171307285-483 session=tizhn0i0
2024-05-08T20:28:27.288+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-23] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715171307286-514 session=tizhn0i0
2024-05-08T20:28:27.372+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T20:28:27.373+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : the second member!
2024-05-08T20:28:27.373+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : Sending message to user D001 with destination /queue/join
2024-05-08T20:28:27.374+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T20:28:27.376+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:28:27.378+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userzldp4mcn session=null payload={"destination":"D005"}
2024-05-08T20:28:27.378+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : Message sent to user D001
2024-05-08T20:28:27.379+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T20:28:27.379+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:28:27.380+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-usertizhn0i0 session=null payload={"destination":"D001"}
2024-05-08T20:28:27.391+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-1] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=tizhn0i0, lookupDestination='/signal/offer'
2024-05-08T20:28:27.394+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-4] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=tizhn0i0, lookupDestination='/signal/offer'
2024-05-08T20:28:27.394+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-6] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=tizhn0i0, lookupDestination='/signal/offer'
2024-05-08T20:28:27.396+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-6] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:28:27.396+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-4] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:28:27.396+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-1] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:28:27.408+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:28:27.409+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:28:27.409+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:4...(truncated)
2024-05-08T20:28:27.409+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:28:27.409+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:28:27.409+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:28:27.410+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userzldp4mcn session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:28:27.410+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userzldp4mcn session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:4...(truncated)
2024-05-08T20:28:27.410+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userzldp4mcn session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:28:27.416+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-12] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=zldp4mcn, lookupDestination='/signal/offer'
2024-05-08T20:28:27.416+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-12] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:28:27.418+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-12] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:28:27.418+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-12] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:28:27.419+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-12] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usertizhn0i0 session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:28:27.464+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-13] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=tizhn0i0, lookupDestination='/signal/offer'
2024-05-08T20:28:27.464+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-13] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:28:27.465+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T20:28:27.465+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:28:27.466+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userzldp4mcn session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T20:28:27.493+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=tizhn0i0, lookupDestination='/signal/offer'
2024-05-08T20:28:27.493+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:28:27.494+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T20:28:27.494+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:28:27.495+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userzldp4mcn session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T20:28:28.681+08:00  INFO 12268 --- [medshare] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 42], outboundChannel[pool size = 10, active threads = 0, queued tasks = 0, completed tasks = 10], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 2]
2024-05-08T20:28:53.917+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/room/1234 session=null payload={"action":"left","userId":"D005"}
2024-05-08T20:28:53.918+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-05-08T20:28:57.021+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=zldp4mcn
2024-05-08T20:28:57.022+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=zldp4mcn] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:28:57.023+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session zldp4mcn
2024-05-08T20:28:57.023+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-13] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={user=com.example.medshare.config.AuthHandshakeInterceptor$1@23a26493}, simpHeartbeat=[J@2d658e97, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@23a26493, simpSessionId=zldp4mcn}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@23a26493, simpSessionId=zldp4mcn}]
2024-05-08T20:28:57.024+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-24] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=zldp4mcn
2024-05-08T20:28:57.025+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-14] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@23a26493}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@23a26493, simpSessionId=zldp4mcn}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@23a26493, simpSessionId=zldp4mcn}]
2024-05-08T20:28:58.834+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=tizhn0i0
2024-05-08T20:28:58.834+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=tizhn0i0] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:28:58.835+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session tizhn0i0
2024-05-08T20:28:58.835+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-15] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={user=com.example.medshare.config.AuthHandshakeInterceptor$1@ab305e9}, simpHeartbeat=[J@474facf, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@ab305e9, simpSessionId=tizhn0i0}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@ab305e9, simpSessionId=tizhn0i0}]
2024-05-08T20:28:58.835+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=tizhn0i0
2024-05-08T20:28:58.837+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-16] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@ab305e9}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@ab305e9, simpSessionId=tizhn0i0}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@ab305e9, simpSessionId=tizhn0i0}]
2024-05-08T20:29:04.950+08:00 DEBUG 12268 --- [medshare] [MessageBroker-12] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 2 sessions: [zldp4mcn, tizhn0i0]
2024-05-08T20:30:06.148+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:30:06.148+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T20:30:06.149+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : the first member!
2024-05-08T20:30:06.149+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyMjk3fQ.5zF2zSOx-3T_-5Qb6ato3JMYSxowS9OTRjUBxrfGgMGec5L6Uh3JxJVwqRvZ-nOutWCddc-rmP22Ju0fOzMQzg&t=1715171406146
2024-05-08T20:30:06.153+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:30:06.154+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-8] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/295/hav3jzwf/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyMjk3fQ.5zF2zSOx-3T_-5Qb6ato3JMYSxowS9OTRjUBxrfGgMGec5L6Uh3JxJVwqRvZ-nOutWCddc-rmP22Ju0fOzMQzg
2024-05-08T20:30:06.155+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-8] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T20:30:06.156+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-8] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T20:30:06.158+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=hav3jzwf]
2024-05-08T20:30:06.161+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-26] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=hav3jzwf
2024-05-08T20:30:06.163+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715171406163-95 session=hav3jzwf
2024-05-08T20:30:06.163+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-32] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715171406163-228 session=hav3jzwf
2024-05-08T20:30:06.163+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-35] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715171406163-738 session=hav3jzwf
2024-05-08T20:30:12.395+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:30:12.395+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyMjg4fQ.owNWUh0LMshUlDm_nydC_a0KzFeZIbHQ7H8qNRYuqPyeR0MZUEhbk77TVl-5wMmB9na0iYUDDxegX4TthM2VGA&t=1715171412393
2024-05-08T20:30:12.400+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:30:12.401+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/748/sksirqma/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyMjg4fQ.owNWUh0LMshUlDm_nydC_a0KzFeZIbHQ7H8qNRYuqPyeR0MZUEhbk77TVl-5wMmB9na0iYUDDxegX4TthM2VGA
2024-05-08T20:30:12.402+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-1] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T20:30:12.402+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-1] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T20:30:12.404+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=sksirqma]
2024-05-08T20:30:12.406+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-38] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=sksirqma
2024-05-08T20:30:12.409+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-41] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715171412409-215 session=sksirqma
2024-05-08T20:30:12.409+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-44] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715171412409-674 session=sksirqma
2024-05-08T20:30:12.409+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-47] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715171412409-981 session=sksirqma
2024-05-08T20:30:12.503+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-5] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T20:30:12.504+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-5] c.example.medshare.service.RoomService   : the second member!
2024-05-08T20:30:12.504+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-5] c.example.medshare.service.RoomService   : Sending message to user D005 with destination /queue/join
2024-05-08T20:30:12.505+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T20:30:12.505+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:30:12.505+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userhav3jzwf session=null payload={"destination":"D001"}
2024-05-08T20:30:12.506+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-5] c.example.medshare.service.RoomService   : Message sent to user D005
2024-05-08T20:30:12.506+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T20:30:12.507+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:30:12.507+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-usersksirqma session=null payload={"destination":"D005"}
2024-05-08T20:30:12.509+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-25] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=hav3jzwf, lookupDestination='/signal/offer'
2024-05-08T20:30:12.509+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-25] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:30:12.510+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-28] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=hav3jzwf, lookupDestination='/signal/offer'
2024-05-08T20:30:12.510+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-25] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:30:12.510+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=hav3jzwf, lookupDestination='/signal/offer'
2024-05-08T20:30:12.510+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-28] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:30:12.510+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-25] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:30:12.511+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:30:12.511+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-28] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:30:12.511+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-25] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usersksirqma session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:30:12.511+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-28] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:30:12.511+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:9...(truncated)
2024-05-08T20:30:12.512+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:30:12.512+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-28] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usersksirqma session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:30:12.512+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usersksirqma session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:9...(truncated)
2024-05-08T20:30:12.515+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-36] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=sksirqma, lookupDestination='/signal/offer'
2024-05-08T20:30:12.515+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-36] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:30:12.516+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-36] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:30:12.516+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-36] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:30:12.517+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-36] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userhav3jzwf session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:30:12.575+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-37] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=hav3jzwf, lookupDestination='/signal/offer'
2024-05-08T20:30:12.576+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-37] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:30:12.577+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-37] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:30:12.578+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-37] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:30:12.578+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-37] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usersksirqma session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:30:12.620+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-40] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=hav3jzwf, lookupDestination='/signal/offer'
2024-05-08T20:30:12.621+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-40] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:30:12.622+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-40] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:30:12.622+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-40] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:30:12.623+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-40] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usersksirqma session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:30:55.757+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/room/1234 session=null payload={"action":"left","userId":"D005"}
2024-05-08T20:30:55.759+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-05-08T20:31:01.034+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-45] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=sksirqma
2024-05-08T20:31:01.034+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=sksirqma] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:31:01.034+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-4] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session sksirqma
2024-05-08T20:31:01.035+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-29] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@311bb7e2}, simpHeartbeat=[J@3fdc5fb1, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@311bb7e2, simpSessionId=sksirqma}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@311bb7e2, simpSessionId=sksirqma}]
2024-05-08T20:31:01.035+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-48] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=sksirqma
2024-05-08T20:31:01.036+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-30] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@311bb7e2}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@311bb7e2, simpSessionId=sksirqma}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@311bb7e2, simpSessionId=sksirqma}]
2024-05-08T20:31:02.719+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-26] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=hav3jzwf
2024-05-08T20:31:02.719+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=hav3jzwf] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:31:02.719+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session hav3jzwf
2024-05-08T20:31:02.720+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-33] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=hav3jzwf
2024-05-08T20:31:02.720+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-31] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@3c2b7b54}, simpHeartbeat=[J@32ec82a1, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3c2b7b54, simpSessionId=hav3jzwf}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3c2b7b54, simpSessionId=hav3jzwf}]
2024-05-08T20:31:02.721+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-32] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@3c2b7b54}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3c2b7b54, simpSessionId=hav3jzwf}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3c2b7b54, simpSessionId=hav3jzwf}]
2024-05-08T20:31:09.950+08:00 DEBUG 12268 --- [medshare] [MessageBroker-2] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 2 sessions: [hav3jzwf, sksirqma]
2024-05-08T20:32:08.078+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:32:08.079+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T20:32:08.079+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyNDAxfQ.k95CW7lAPv2ug3Hv-ri1Fx85EVHWZlyYoy70Bjn3dsRKSj2HwQdJIhSR9L47alKCaFORBNnjQ6veufeL8Zp3Nw&t=1715171528075
2024-05-08T20:32:08.079+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : the first member!
2024-05-08T20:32:08.083+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:32:08.084+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-7] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/226/p44mz5qe/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyNDAxfQ.k95CW7lAPv2ug3Hv-ri1Fx85EVHWZlyYoy70Bjn3dsRKSj2HwQdJIhSR9L47alKCaFORBNnjQ6veufeL8Zp3Nw
2024-05-08T20:32:08.084+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-7] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T20:32:08.085+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-7] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T20:32:08.086+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=p44mz5qe]
2024-05-08T20:32:08.088+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-50] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=p44mz5qe
2024-05-08T20:32:08.091+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-53] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715171528089-796 session=p44mz5qe
2024-05-08T20:32:08.091+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-56] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715171528089-715 session=p44mz5qe
2024-05-08T20:32:08.091+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-59] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715171528089-545 session=p44mz5qe
2024-05-08T20:32:11.752+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:32:11.753+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-3] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyNDA3fQ.apYaV3amjP-4VG03dusHoI0ggVgI4mvgQ2XYnQcBehENENJ10vy-qppbyhjsRk3R3bqUnmjaAsXoV4HO_bWK9A&t=1715171531750
2024-05-08T20:32:11.757+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:32:11.758+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-4] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/927/vqdlu0ku/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyNDA3fQ.apYaV3amjP-4VG03dusHoI0ggVgI4mvgQ2XYnQcBehENENJ10vy-qppbyhjsRk3R3bqUnmjaAsXoV4HO_bWK9A
2024-05-08T20:32:11.758+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-4] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T20:32:11.759+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-4] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T20:32:11.760+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=vqdlu0ku]
2024-05-08T20:32:11.762+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-62] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=vqdlu0ku
2024-05-08T20:32:11.766+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-65] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715171531765-731 session=vqdlu0ku
2024-05-08T20:32:11.766+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-68] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715171531765-140 session=vqdlu0ku
2024-05-08T20:32:11.767+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-71] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715171531765-238 session=vqdlu0ku
2024-05-08T20:32:11.857+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T20:32:11.857+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : the second member!
2024-05-08T20:32:11.858+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : Sending message to user D001 with destination /queue/join
2024-05-08T20:32:11.858+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T20:32:11.858+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:32:11.858+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userp44mz5qe session=null payload={"destination":"D005"}
2024-05-08T20:32:11.859+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : Message sent to user D001
2024-05-08T20:32:11.859+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T20:32:11.859+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:32:11.859+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-uservqdlu0ku session=null payload={"destination":"D001"}
2024-05-08T20:32:11.863+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-49] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=vqdlu0ku, lookupDestination='/signal/offer'
2024-05-08T20:32:11.864+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-49] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:32:11.864+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-52] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=vqdlu0ku, lookupDestination='/signal/offer'
2024-05-08T20:32:11.864+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-53] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=vqdlu0ku, lookupDestination='/signal/offer'
2024-05-08T20:32:11.864+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-52] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:32:11.865+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-53] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:32:11.865+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-49] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:32:11.865+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-49] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:32:11.865+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-52] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:9...(truncated)
2024-05-08T20:32:11.865+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-53] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:32:11.865+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-52] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:32:11.865+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-49] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userp44mz5qe session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:32:11.866+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-53] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:32:11.866+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-52] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userp44mz5qe session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:9...(truncated)
2024-05-08T20:32:11.866+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-53] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userp44mz5qe session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:32:11.868+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-56] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=p44mz5qe, lookupDestination='/signal/offer'
2024-05-08T20:32:11.869+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-56] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:32:11.870+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-56] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:32:11.870+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-56] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:32:11.871+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-56] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-uservqdlu0ku session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:32:11.957+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-61] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=vqdlu0ku, lookupDestination='/signal/offer'
2024-05-08T20:32:11.957+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-61] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:32:11.958+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-61] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:7...(truncated)
2024-05-08T20:32:11.958+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-61] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:32:11.958+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-61] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userp44mz5qe session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:7...(truncated)
2024-05-08T20:33:11.824+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-74] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=p44mz5qe
2024-05-08T20:33:11.824+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=p44mz5qe] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:33:11.825+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session p44mz5qe
2024-05-08T20:33:11.825+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-42] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={user=com.example.medshare.config.AuthHandshakeInterceptor$1@1ed314a6}, simpHeartbeat=[J@1014f90c, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@1ed314a6, simpSessionId=p44mz5qe}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@1ed314a6, simpSessionId=p44mz5qe}]
2024-05-08T20:33:11.826+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-77] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=p44mz5qe
2024-05-08T20:33:11.827+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-43] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@1ed314a6}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@1ed314a6, simpSessionId=p44mz5qe}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@1ed314a6, simpSessionId=p44mz5qe}]
2024-05-08T20:33:15.510+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-80] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=vqdlu0ku
2024-05-08T20:33:15.510+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=vqdlu0ku] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:33:15.511+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session vqdlu0ku
2024-05-08T20:33:15.511+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-44] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={user=com.example.medshare.config.AuthHandshakeInterceptor$1@5fdd97c}, simpHeartbeat=[J@b3a27b3, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@5fdd97c, simpSessionId=vqdlu0ku}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@5fdd97c, simpSessionId=vqdlu0ku}]
2024-05-08T20:33:15.512+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-83] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=vqdlu0ku
2024-05-08T20:33:15.513+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-45] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@5fdd97c}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@5fdd97c, simpSessionId=vqdlu0ku}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@5fdd97c, simpSessionId=vqdlu0ku}]
2024-05-08T20:33:19.956+08:00 DEBUG 12268 --- [medshare] [MessageBroker-7] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 1 sessions: [p44mz5qe]
2024-05-08T20:33:24.950+08:00 DEBUG 12268 --- [medshare] [MessageBroker-7] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 1 sessions: [vqdlu0ku]
2024-05-08T20:34:20.341+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-6] c.e.m.controller.PatientController       : doctorID is D005
2024-05-08T20:36:09.993+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-4] c.e.m.controller.PatientController       : doctorID is D005
2024-05-08T20:36:37.731+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:36:37.732+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyNjEwfQ.eklxhz_5mX8aQQWho9eIBkCDL_vlm7BdxulUq3yFxnEJ1qYMonv9PPsDJ09kgw7uQnEB9hJixuPhaG82jPH7VA&t=1715171797728
2024-05-08T20:36:38.835+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:36:38.836+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/080/bdjnqkea/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyNjEwfQ.eklxhz_5mX8aQQWho9eIBkCDL_vlm7BdxulUq3yFxnEJ1qYMonv9PPsDJ09kgw7uQnEB9hJixuPhaG82jPH7VA
2024-05-08T20:36:38.837+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-9] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T20:36:38.838+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-9] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T20:36:38.839+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=bdjnqkea]
2024-05-08T20:36:38.844+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=bdjnqkea
2024-05-08T20:36:38.848+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-89] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715171798846-614 session=bdjnqkea
2024-05-08T20:36:38.848+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-92] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715171798847-762 session=bdjnqkea
2024-05-08T20:36:38.848+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-95] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715171798847-311 session=bdjnqkea
2024-05-08T20:36:43.709+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:36:43.710+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyNjEwfQ.eklxhz_5mX8aQQWho9eIBkCDL_vlm7BdxulUq3yFxnEJ1qYMonv9PPsDJ09kgw7uQnEB9hJixuPhaG82jPH7VA&t=1715171803707
2024-05-08T20:36:43.710+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-2] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T20:36:43.710+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-2] c.example.medshare.service.RoomService   : the first member!
2024-05-08T20:36:43.714+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:36:43.715+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-4] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/727/sn3ycqj1/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyNjEwfQ.eklxhz_5mX8aQQWho9eIBkCDL_vlm7BdxulUq3yFxnEJ1qYMonv9PPsDJ09kgw7uQnEB9hJixuPhaG82jPH7VA
2024-05-08T20:36:43.716+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-4] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T20:36:43.716+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-4] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T20:36:43.718+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=sn3ycqj1]
2024-05-08T20:36:43.720+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-98] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=sn3ycqj1
2024-05-08T20:36:43.722+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-101] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715171803721-799 session=sn3ycqj1
2024-05-08T20:36:43.723+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/4321 id=sub-1715171803722-578 session=sn3ycqj1
2024-05-08T20:36:43.723+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-107] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715171803722-501 session=sn3ycqj1
2024-05-08T20:36:49.279+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:36:49.279+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyNjAyfQ.gHg9s_eRWXrBdOMlGIPerVgBwajH901YHFWX9NcZrh7ksiiFA1qhsMuDDTmkfKrbisN-Uw9SDHaDawHqdWUVVQ&t=1715171809276
2024-05-08T20:36:49.284+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4917992b
2024-05-08T20:36:49.287+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/961/q0ega1yl/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyNjAyfQ.gHg9s_eRWXrBdOMlGIPerVgBwajH901YHFWX9NcZrh7ksiiFA1qhsMuDDTmkfKrbisN-Uw9SDHaDawHqdWUVVQ
2024-05-08T20:36:49.287+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T20:36:49.288+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-10] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T20:36:49.289+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=q0ega1yl]
2024-05-08T20:36:49.290+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-87] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=q0ega1yl
2024-05-08T20:36:49.293+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-90] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715171809293-536 session=q0ega1yl
2024-05-08T20:36:49.293+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-93] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/4321 id=sub-1715171809293-192 session=q0ega1yl
2024-05-08T20:36:49.293+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-96] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715171809293-680 session=q0ega1yl
2024-05-08T20:36:49.389+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-1] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T20:36:49.390+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-1] c.example.medshare.service.RoomService   : the second member!
2024-05-08T20:36:49.390+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-1] c.example.medshare.service.RoomService   : Sending message to user D005 with destination /queue/join
2024-05-08T20:36:49.391+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T20:36:49.391+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-05-08T20:36:49.391+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userbdjnqkea session=null payload={"destination":"D001"}
2024-05-08T20:36:49.392+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-usersn3ycqj1 session=null payload={"destination":"D001"}
2024-05-08T20:36:49.392+08:00  INFO 12268 --- [medshare] [http-nio-8080-exec-1] c.example.medshare.service.RoomService   : Message sent to user D005
2024-05-08T20:36:49.392+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T20:36:49.392+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:36:49.393+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userq0ega1yl session=null payload={"destination":"D005"}
2024-05-08T20:36:49.395+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-97] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=sn3ycqj1, lookupDestination='/signal/offer'
2024-05-08T20:36:49.396+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-97] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:36:49.397+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-97] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:36:49.397+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-97] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:36:49.398+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-97] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userq0ega1yl session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:36:49.398+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-100] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=sn3ycqj1, lookupDestination='/signal/offer'
2024-05-08T20:36:49.398+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-101] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=sn3ycqj1, lookupDestination='/signal/offer'
2024-05-08T20:36:49.398+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-100] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:36:49.399+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-101] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:36:49.399+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:36:49.399+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-101] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T20:36:49.399+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:36:49.399+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-101] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:36:49.400+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userq0ega1yl session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:36:49.400+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-101] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userq0ega1yl session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:3...(truncated)
2024-05-08T20:36:49.404+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-104] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=q0ega1yl, lookupDestination='/signal/offer'
2024-05-08T20:36:49.404+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-104] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:36:49.405+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:36:49.405+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-05-08T20:36:49.405+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userbdjnqkea session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:36:49.406+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usersn3ycqj1 session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:36:49.496+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-86] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=sn3ycqj1, lookupDestination='/signal/offer'
2024-05-08T20:36:49.496+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-86] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:36:49.496+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:36:49.497+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:36:49.497+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userq0ega1yl session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:36:49.507+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-91] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=sn3ycqj1, lookupDestination='/signal/offer'
2024-05-08T20:36:49.508+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-91] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:36:49.508+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-91] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:36:49.509+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-91] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:36:49.509+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-91] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userq0ega1yl session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:37:50.975+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=bdjnqkea] closed with CloseStatus[code=1001, reason=null]
2024-05-08T20:37:50.977+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session bdjnqkea
2024-05-08T20:37:50.977+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=sn3ycqj1] closed with CloseStatus[code=1001, reason=null]
2024-05-08T20:37:50.978+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session sn3ycqj1
2024-05-08T20:37:50.978+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-110] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=bdjnqkea
2024-05-08T20:37:50.979+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-113] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=sn3ycqj1
2024-05-08T20:37:50.979+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-59] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@6e313bfd}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@6e313bfd, simpSessionId=bdjnqkea}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@6e313bfd, simpSessionId=bdjnqkea}]
2024-05-08T20:37:50.979+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-60] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@5de522af}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@5de522af, simpSessionId=sn3ycqj1}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@5de522af, simpSessionId=sn3ycqj1}]
2024-05-08T20:37:59.962+08:00 DEBUG 12268 --- [medshare] [MessageBroker-6] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 2 sessions: [sn3ycqj1, bdjnqkea]
2024-05-08T20:38:01.880+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-116] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=q0ega1yl
2024-05-08T20:38:01.880+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=q0ega1yl] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:38:01.880+08:00 DEBUG 12268 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session q0ega1yl
2024-05-08T20:38:01.881+08:00 DEBUG 12268 --- [medshare] [clientInboundChannel-119] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=q0ega1yl
2024-05-08T20:38:01.882+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-62] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@2e7c531f}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@2e7c531f, simpSessionId=q0ega1yl}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@2e7c531f, simpSessionId=q0ega1yl}]
2024-05-08T20:38:01.881+08:00 DEBUG 12268 --- [medshare] [clientOutboundChannel-61] o.s.w.s.m.StompSubProtocolHandler        : Failed to send WebSocket message to client in session q0ega1yl

java.lang.IllegalStateException: Cannot send a message when session is closed
	at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-6.1.6.jar!/:6.1.6]
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.sendMessage(AbstractSockJsSession.java:144) ~[spring-websocket-6.1.6.jar!/:6.1.6]
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.tryFlushMessageBuffer(ConcurrentWebSocketSessionDecorator.java:190) ~[spring-websocket-6.1.6.jar!/:6.1.6]
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(ConcurrentWebSocketSessionDecorator.java:163) ~[spring-websocket-6.1.6.jar!/:6.1.6]
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.sendToClient(StompSubProtocolHandler.java:529) ~[spring-websocket-6.1.6.jar!/:6.1.6]
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageToClient(StompSubProtocolHandler.java:516) ~[spring-websocket-6.1.6.jar!/:6.1.6]
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:386) ~[spring-websocket-6.1.6.jar!/:6.1.6]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.6.jar!/:6.1.6]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-05-08T20:38:09.955+08:00 DEBUG 12268 --- [medshare] [MessageBroker-10] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 1 sessions: [q0ega1yl]
2024-05-08T20:38:13.663+08:00 DEBUG 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T20:38:13.664+08:00 DEBUG 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T20:38:13.664+08:00  INFO 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-05-08T20:38:13.664+08:00  INFO 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3509f32d]]
2024-05-08T20:38:13.664+08:00 DEBUG 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3509f32d]
2024-05-08T20:38:13.664+08:00 DEBUG 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3509f32d]
2024-05-08T20:38:13.665+08:00  INFO 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-05-08T20:38:13.665+08:00 DEBUG 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T20:38:13.665+08:00 DEBUG 12268 --- [medshare] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T20:38:13.691+08:00  INFO 12268 --- [medshare] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T20:38:13.694+08:00  INFO 12268 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-05-08T20:38:13.701+08:00  INFO 12268 --- [medshare] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-05-08T20:38:18.161+08:00  INFO 17108 --- [medshare] [main] c.example.medshare.MedshareApplication   : Starting MedshareApplication v0.0.1-SNAPSHOT using Java 17.0.3 with PID 17108 (D:\javaCode\medshare\target\medshare.jar started by ”Ó in D:\javaCode\medshare)
2024-05-08T20:38:18.169+08:00  INFO 17108 --- [medshare] [main] c.example.medshare.MedshareApplication   : No active profile set, falling back to 1 default profile: "default"
2024-05-08T20:38:18.984+08:00  INFO 17108 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-08T20:38:19.054+08:00  INFO 17108 --- [medshare] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2024-05-08T20:38:19.327+08:00  WARN 17108 --- [medshare] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [annotationActionEndpointMapping] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-05-08T20:38:19.358+08:00  INFO 17108 --- [medshare] [main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-08T20:38:19.858+08:00  INFO 17108 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-05-08T20:38:19.870+08:00  INFO 17108 --- [medshare] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-08T20:38:19.871+08:00  INFO 17108 --- [medshare] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-05-08T20:38:19.914+08:00  INFO 17108 --- [medshare] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-05-08T20:38:19.915+08:00  INFO 17108 --- [medshare] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1650 ms
2024-05-08T20:38:20.093+08:00  INFO 17108 --- [medshare] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-08T20:38:20.145+08:00  INFO 17108 --- [medshare] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-08T20:38:20.177+08:00  INFO 17108 --- [medshare] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-05-08T20:38:20.357+08:00  INFO 17108 --- [medshare] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-08T20:38:20.381+08:00  INFO 17108 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-05-08T20:38:20.529+08:00  INFO 17108 --- [medshare] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b9a1205
2024-05-08T20:38:20.531+08:00  INFO 17108 --- [medshare] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-05-08T20:38:20.566+08:00  WARN 17108 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-05-08T20:38:20.569+08:00  WARN 17108 --- [medshare] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-05-08T20:38:21.187+08:00  INFO 17108 --- [medshare] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-08T20:38:21.232+08:00  INFO 17108 --- [medshare] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-08T20:38:21.877+08:00  WARN 17108 --- [medshare] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-08T20:38:22.031+08:00 DEBUG 17108 --- [medshare] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/signal/**] in 'stompWebSocketHandlerMapping'
2024-05-08T20:38:22.049+08:00  INFO 17108 --- [medshare] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-05-08T20:38:22.175+08:00  INFO 17108 --- [medshare] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3db3668, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@125c03d3, org.springframework.security.web.context.SecurityContextHolderFilter@3f7d73e3, org.springframework.security.web.header.HeaderWriterFilter@6f8035d6, org.springframework.web.filter.CorsFilter@7e9ea888, org.springframework.security.web.authentication.logout.LogoutFilter@1978eab7, com.example.medshare.security.JwtTokenFilter@24f8707c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6109366a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed492df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e4a6afd, org.springframework.security.web.access.ExceptionTranslationFilter@3b0d9da, org.springframework.security.web.access.intercept.AuthorizationFilter@5dd62f07]
2024-05-08T20:38:22.239+08:00 DEBUG 17108 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.AuthenticationController:
	
2024-05-08T20:38:22.240+08:00 DEBUG 17108 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.DoctorController:
	
2024-05-08T20:38:22.241+08:00 DEBUG 17108 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.FileUploadController:
	
2024-05-08T20:38:22.241+08:00 DEBUG 17108 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientController:
	
2024-05-08T20:38:22.241+08:00 DEBUG 17108 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.PatientFileController:
	
2024-05-08T20:38:22.242+08:00 DEBUG 17108 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.RoomController:
	
2024-05-08T20:38:22.246+08:00 DEBUG 17108 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.e.m.c.SignalController:
	{[MESSAGE],[/signal/answer]}: processAnswer(WebRTCSignal)
	{[MESSAGE],[/signal/candidate]}: processCandidate(WebRTCSignal)
	{[MESSAGE],[/signal/offer]}: processOffer(WebRTCSignal)
2024-05-08T20:38:22.248+08:00 DEBUG 17108 --- [medshare] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-05-08T20:38:22.527+08:00  INFO 17108 --- [medshare] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2024-05-08T20:38:22.530+08:00 DEBUG 17108 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-05-08T20:38:22.531+08:00 DEBUG 17108 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-05-08T20:38:22.531+08:00  INFO 17108 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-05-08T20:38:22.531+08:00 DEBUG 17108 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36109a76]
2024-05-08T20:38:22.532+08:00 DEBUG 17108 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36109a76]
2024-05-08T20:38:22.533+08:00  INFO 17108 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36109a76]]
2024-05-08T20:38:22.534+08:00  INFO 17108 --- [medshare] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-05-08T20:38:22.534+08:00 DEBUG 17108 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T20:38:22.535+08:00 DEBUG 17108 --- [medshare] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-05-08T20:38:22.557+08:00  INFO 17108 --- [medshare] [main] c.example.medshare.MedshareApplication   : Started MedshareApplication in 4.914 seconds (process running for 5.426)
2024-05-08T20:38:34.538+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-08T20:38:34.539+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-05-08T20:38:34.541+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-05-08T20:38:46.805+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T20:38:46.807+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:38:46.807+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-10] c.example.medshare.service.RoomService   : the first member!
2024-05-08T20:38:46.809+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyODE0fQ.cqj9sWBTfu_uVh9GYPHsS1FsfShmDZmHPstu8Yba91JQ6jARbPjKwEHNqV7bxZWgXr0vrNu2ecP7LqTKQh7N9w&t=1715171926801
2024-05-08T20:38:46.815+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:38:46.816+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/391/ejk4gzxs/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyODE0fQ.cqj9sWBTfu_uVh9GYPHsS1FsfShmDZmHPstu8Yba91JQ6jARbPjKwEHNqV7bxZWgXr0vrNu2ecP7LqTKQh7N9w
2024-05-08T20:38:46.817+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-2] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T20:38:46.821+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-2] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T20:38:46.852+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=ejk4gzxs]
2024-05-08T20:38:46.867+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=ejk4gzxs
2024-05-08T20:38:46.874+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715171926873-905 session=ejk4gzxs
2024-05-08T20:38:46.875+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/4321 id=sub-1715171926873-61 session=ejk4gzxs
2024-05-08T20:38:46.875+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715171926873-931 session=ejk4gzxs
2024-05-08T20:38:50.030+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:38:50.031+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyODIwfQ.RSOPqlZziupgk9nP_flu0j161HypnSgcj9NwN4x1jfowAwEMBBIO5_TIuHpQQLwdSTCLHfHch3oiw-H1i6q2Ug&t=1715171930028
2024-05-08T20:38:50.036+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:38:50.037+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/911/p3pfb2rn/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyODIwfQ.RSOPqlZziupgk9nP_flu0j161HypnSgcj9NwN4x1jfowAwEMBBIO5_TIuHpQQLwdSTCLHfHch3oiw-H1i6q2Ug
2024-05-08T20:38:50.038+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-5] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T20:38:50.038+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-5] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T20:38:50.040+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=p3pfb2rn]
2024-05-08T20:38:50.042+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=p3pfb2rn
2024-05-08T20:38:50.044+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715171930044-868 session=p3pfb2rn
2024-05-08T20:38:50.045+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-20] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/4321 id=sub-1715171930044-269 session=p3pfb2rn
2024-05-08T20:38:50.045+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-23] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715171930044-577 session=p3pfb2rn
2024-05-08T20:38:50.133+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T20:38:50.134+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : the second member!
2024-05-08T20:38:50.134+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : Sending message to user D001 with destination /queue/join
2024-05-08T20:38:50.135+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T20:38:50.136+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:38:50.137+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userejk4gzxs session=null payload={"destination":"D005"}
2024-05-08T20:38:50.138+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-8] c.example.medshare.service.RoomService   : Message sent to user D001
2024-05-08T20:38:50.138+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T20:38:50.138+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:38:50.139+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userp3pfb2rn session=null payload={"destination":"D001"}
2024-05-08T20:38:50.148+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-1] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=p3pfb2rn, lookupDestination='/signal/offer'
2024-05-08T20:38:50.150+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-4] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=p3pfb2rn, lookupDestination='/signal/offer'
2024-05-08T20:38:50.150+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-10] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=p3pfb2rn, lookupDestination='/signal/offer'
2024-05-08T20:38:50.152+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-10] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:38:50.152+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-1] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:38:50.152+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-4] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:38:50.162+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:38:50.162+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:9...(truncated)
2024-05-08T20:38:50.162+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:38:50.162+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:38:50.162+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:38:50.163+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:38:50.163+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userejk4gzxs session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:38:50.163+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userejk4gzxs session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:9...(truncated)
2024-05-08T20:38:50.163+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userejk4gzxs session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:38:50.167+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-5] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ejk4gzxs, lookupDestination='/signal/offer'
2024-05-08T20:38:50.167+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-5] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:38:50.168+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:38:50.168+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:38:50.169+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userp3pfb2rn session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:38:50.247+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-13] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=p3pfb2rn, lookupDestination='/signal/offer'
2024-05-08T20:38:50.248+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-13] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:38:50.249+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:5...(truncated)
2024-05-08T20:38:50.249+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:38:50.249+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-13] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userejk4gzxs session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:5...(truncated)
2024-05-08T20:39:22.510+08:00  INFO 17108 --- [medshare] [MessageBroker-12] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 39], outboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 11]
2024-05-08T20:40:26.436+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/room/4321 session=null payload={"action":"left","userId":"D001"}
2024-05-08T20:40:26.437+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-05-08T20:40:29.364+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-26] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=p3pfb2rn
2024-05-08T20:40:29.365+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=p3pfb2rn] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:40:29.365+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session p3pfb2rn
2024-05-08T20:40:29.366+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-12] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={user=com.example.medshare.config.AuthHandshakeInterceptor$1@fad77b5}, simpHeartbeat=[J@16a9830, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@fad77b5, simpSessionId=p3pfb2rn}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@fad77b5, simpSessionId=p3pfb2rn}]
2024-05-08T20:40:29.367+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=p3pfb2rn
2024-05-08T20:40:29.367+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-13] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@fad77b5}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@fad77b5, simpSessionId=p3pfb2rn}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@fad77b5, simpSessionId=p3pfb2rn}]
2024-05-08T20:40:30.583+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-32] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=ejk4gzxs
2024-05-08T20:40:30.583+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=ejk4gzxs] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:40:30.583+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session ejk4gzxs
2024-05-08T20:40:30.584+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-14] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={user=com.example.medshare.config.AuthHandshakeInterceptor$1@3e52b7b5}, simpHeartbeat=[J@30954e0f, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3e52b7b5, simpSessionId=ejk4gzxs}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3e52b7b5, simpSessionId=ejk4gzxs}]
2024-05-08T20:40:30.585+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-35] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=ejk4gzxs
2024-05-08T20:40:30.585+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-15] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@3e52b7b5}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3e52b7b5, simpSessionId=ejk4gzxs}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@3e52b7b5, simpSessionId=ejk4gzxs}]
2024-05-08T20:40:36.822+08:00 DEBUG 17108 --- [medshare] [MessageBroker-5] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 2 sessions: [ejk4gzxs, p3pfb2rn]
2024-05-08T20:41:44.172+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.e.m.controller.PatientController       : doctorID is D005
2024-05-08T20:42:09.061+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-4] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T20:42:09.061+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:42:09.062+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-4] c.example.medshare.service.RoomService   : the first member!
2024-05-08T20:42:09.062+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-5] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyOTUxfQ.kbL_FyEKFMXsT9gaKV6v8t36_R3nUhQJSy8FvNVl2b2y1NEYIj9rY734g9SeCSFcHbUF1ZD8MYv5wnF2VypU3Q&t=1715172129057
2024-05-08T20:42:09.068+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:42:09.069+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/102/5wp43wdo/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTcyOTUxfQ.kbL_FyEKFMXsT9gaKV6v8t36_R3nUhQJSy8FvNVl2b2y1NEYIj9rY734g9SeCSFcHbUF1ZD8MYv5wnF2VypU3Q
2024-05-08T20:42:09.071+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-6] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T20:42:09.071+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-6] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T20:42:09.073+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=5wp43wdo]
2024-05-08T20:42:09.076+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-38] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=5wp43wdo
2024-05-08T20:42:09.080+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-41] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715172129078-472 session=5wp43wdo
2024-05-08T20:42:09.080+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-44] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715172129078-592 session=5wp43wdo
2024-05-08T20:42:09.080+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-47] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715172129079-272 session=5wp43wdo
2024-05-08T20:42:17.995+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:42:17.996+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-9] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyOTQ0fQ.As25iZ62FiVZbD51XTTpsJjt7l0FPpQ1Ov6xrYebh4nwRnzUq83rkbIFNfnwNLew6ENE0MHZCiK1-hD4CcWhug&t=1715172137992
2024-05-08T20:42:18.003+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:42:18.004+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/991/5vs2dns0/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTcyOTQ0fQ.As25iZ62FiVZbD51XTTpsJjt7l0FPpQ1Ov6xrYebh4nwRnzUq83rkbIFNfnwNLew6ENE0MHZCiK1-hD4CcWhug
2024-05-08T20:42:18.005+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-1] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T20:42:18.005+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-1] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T20:42:18.006+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=5vs2dns0]
2024-05-08T20:42:18.009+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-50] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=5vs2dns0
2024-05-08T20:42:18.012+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-53] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715172138011-766 session=5vs2dns0
2024-05-08T20:42:18.013+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-56] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715172138011-909 session=5vs2dns0
2024-05-08T20:42:18.013+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-59] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715172138011-24 session=5vs2dns0
2024-05-08T20:42:18.106+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T20:42:18.106+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.example.medshare.service.RoomService   : the second member!
2024-05-08T20:42:18.107+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.example.medshare.service.RoomService   : Sending message to user D005 with destination /queue/join
2024-05-08T20:42:18.107+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T20:42:18.107+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:42:18.107+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-user5wp43wdo session=null payload={"destination":"D001"}
2024-05-08T20:42:18.108+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.example.medshare.service.RoomService   : Message sent to user D005
2024-05-08T20:42:18.108+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T20:42:18.108+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:42:18.108+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-user5vs2dns0 session=null payload={"destination":"D005"}
2024-05-08T20:42:18.111+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-37] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5wp43wdo, lookupDestination='/signal/offer'
2024-05-08T20:42:18.112+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-37] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:42:18.112+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-40] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5wp43wdo, lookupDestination='/signal/offer'
2024-05-08T20:42:18.113+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-45] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5wp43wdo, lookupDestination='/signal/offer'
2024-05-08T20:42:18.113+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-40] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:42:18.113+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-37] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:42:18.113+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-45] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:42:18.113+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-37] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:42:18.114+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-40] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:42:18.114+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-45] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:7...(truncated)
2024-05-08T20:42:18.114+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-37] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user5vs2dns0 session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:42:18.114+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-40] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:42:18.114+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-45] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:42:18.115+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-40] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user5vs2dns0 session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:42:18.115+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-45] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user5vs2dns0 session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:7...(truncated)
2024-05-08T20:42:18.119+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-46] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5vs2dns0, lookupDestination='/signal/offer'
2024-05-08T20:42:18.120+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-46] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:42:18.121+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-46] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:42:18.121+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-46] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:42:18.122+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-46] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user5wp43wdo session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:42:18.177+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-49] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5wp43wdo, lookupDestination='/signal/offer'
2024-05-08T20:42:18.177+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-49] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:42:18.177+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-49] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:42:18.178+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-49] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:42:18.178+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-49] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user5vs2dns0 session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:42:18.204+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-52] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=5wp43wdo, lookupDestination='/signal/offer'
2024-05-08T20:42:18.205+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-52] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:42:18.205+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-52] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:42:18.205+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-52] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:42:18.206+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-52] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-user5vs2dns0 session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:43:19.001+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/room/1234 session=null payload={"action":"left","userId":"D005"}
2024-05-08T20:43:19.002+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-10] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-05-08T20:43:21.972+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-62] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5vs2dns0
2024-05-08T20:43:21.972+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=5vs2dns0] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:43:21.972+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 5vs2dns0
2024-05-08T20:43:21.973+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-28] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={user=com.example.medshare.config.AuthHandshakeInterceptor$1@53b67dab}, simpHeartbeat=[J@5d7199ad, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@53b67dab, simpSessionId=5vs2dns0}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@53b67dab, simpSessionId=5vs2dns0}]
2024-05-08T20:43:21.973+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-65] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5vs2dns0
2024-05-08T20:43:21.974+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-29] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@53b67dab}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@53b67dab, simpSessionId=5vs2dns0}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@53b67dab, simpSessionId=5vs2dns0}]
2024-05-08T20:43:23.567+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-68] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5wp43wdo
2024-05-08T20:43:23.567+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=5wp43wdo] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:43:23.567+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 5wp43wdo
2024-05-08T20:43:23.568+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-30] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={user=com.example.medshare.config.AuthHandshakeInterceptor$1@c38ac6b}, simpHeartbeat=[J@2ff539c, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@c38ac6b, simpSessionId=5wp43wdo}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@c38ac6b, simpSessionId=5wp43wdo}]
2024-05-08T20:43:23.568+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-71] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5wp43wdo
2024-05-08T20:43:23.569+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-31] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@c38ac6b}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@c38ac6b, simpSessionId=5wp43wdo}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@c38ac6b, simpSessionId=5wp43wdo}]
2024-05-08T20:43:31.820+08:00 DEBUG 17108 --- [medshare] [MessageBroker-11] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 2 sessions: [5wp43wdo, 5vs2dns0]
2024-05-08T20:44:33.140+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-4] c.e.m.controller.PatientController       : doctorID is D005
2024-05-08T20:44:57.343+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-5] c.example.medshare.service.RoomService   : joinRoom is called, userId is D005
2024-05-08T20:44:57.344+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-5] c.example.medshare.service.RoomService   : the first member!
2024-05-08T20:44:57.345+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:44:57.346+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-6] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTczMTIwfQ.0-7yT7jKozhLKgJ8gW_Bqo8YVg5Fte_BrlbuS1FqJFMran47gVy9YtjjBTP4nwSE4q9_5kOqivlu9cfk1AbviA&t=1715172297339
2024-05-08T20:44:57.354+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:44:57.356+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-7] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/316/y1nozvlu/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDA1IiwiZXhwIjoxNzE1MTczMTIwfQ.0-7yT7jKozhLKgJ8gW_Bqo8YVg5Fte_BrlbuS1FqJFMran47gVy9YtjjBTP4nwSE4q9_5kOqivlu9cfk1AbviA
2024-05-08T20:44:57.357+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-7] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D005
2024-05-08T20:44:57.357+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-7] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D005
2024-05-08T20:44:57.359+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=y1nozvlu]
2024-05-08T20:44:57.362+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-74] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D005 session=y1nozvlu
2024-05-08T20:44:57.365+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-77] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/join id=sub-1715172297363-922 session=y1nozvlu
2024-05-08T20:44:57.365+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-80] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715172297363-117 session=y1nozvlu
2024-05-08T20:44:57.365+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-83] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D005/queue/offer id=sub-1715172297364-318 session=y1nozvlu
2024-05-08T20:45:05.920+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:45:05.920+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/info?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTczMTE1fQ.ddc1ccnInLfDBoAWpAA7Fh9FP3DEBIVOmDbHGcVZckG27FM4CqUgGl4pFXav1JMPxbI4I9l9g06CnpOBW_fRCA&t=1715172305917
2024-05-08T20:45:05.925+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@6915351c
2024-05-08T20:45:05.925+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-10] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/signal/191/ei51d3gg/websocket?token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJEMDAxIiwiZXhwIjoxNzE1MTczMTE1fQ.ddc1ccnInLfDBoAWpAA7Fh9FP3DEBIVOmDbHGcVZckG27FM4CqUgGl4pFXav1JMPxbI4I9l9g06CnpOBW_fRCA
2024-05-08T20:45:05.927+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-10] c.e.m.config.AuthHandshakeInterceptor    : websocket USERID result: D001
2024-05-08T20:45:05.927+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-10] c.e.m.config.CustomHandshakeHandler      : tempPrincipaluserId is D001
2024-05-08T20:45:05.929+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New WebSocketServerSockJsSession[id=ei51d3gg]
2024-05-08T20:45:05.932+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=D001 session=ei51d3gg
2024-05-08T20:45:05.935+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-89] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/join id=sub-1715172305933-798 session=ei51d3gg
2024-05-08T20:45:05.936+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-92] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/room/1234 id=sub-1715172305934-461 session=ei51d3gg
2024-05-08T20:45:05.937+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-95] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /user/D001/queue/offer id=sub-1715172305934-588 session=ei51d3gg
2024-05-08T20:45:06.020+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-4] c.example.medshare.service.RoomService   : joinRoom is called, userId is D001
2024-05-08T20:45:06.021+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-4] c.example.medshare.service.RoomService   : the second member!
2024-05-08T20:45:06.021+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-4] c.example.medshare.service.RoomService   : Sending message to user D005 with destination /queue/join
2024-05-08T20:45:06.022+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/join session=null payload={"destination":"D001"}
2024-05-08T20:45:06.022+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:45:06.023+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-usery1nozvlu session=null payload={"destination":"D001"}
2024-05-08T20:45:06.023+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-4] c.example.medshare.service.RoomService   : Message sent to user D005
2024-05-08T20:45:06.024+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/join session=null payload={"destination":"D005"}
2024-05-08T20:45:06.024+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:45:06.024+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/join-userei51d3gg session=null payload={"destination":"D005"}
2024-05-08T20:45:06.028+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-73] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=y1nozvlu, lookupDestination='/signal/offer'
2024-05-08T20:45:06.029+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-73] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:45:06.030+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-73] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:45:06.031+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-76] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=y1nozvlu, lookupDestination='/signal/offer'
2024-05-08T20:45:06.031+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-81] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=y1nozvlu, lookupDestination='/signal/offer'
2024-05-08T20:45:06.031+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-73] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:45:06.031+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-76] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:45:06.031+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-81] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:45:06.032+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-73] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userei51d3gg session=null payload={"type":"offer","destination":"D001","content":"{\"type\":\"offer\",\"sdp\":\"v=...(truncated)
2024-05-08T20:45:06.032+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-76] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:45:06.032+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-81] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:45:06.033+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-76] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:45:06.033+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-81] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:45:06.033+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-76] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userei51d3gg session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:2...(truncated)
2024-05-08T20:45:06.034+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-81] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userei51d3gg session=null payload={"type":"candidate","destination":"D001","content":"{\"candidate\":\"candidate:1...(truncated)
2024-05-08T20:45:06.046+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-84] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:45:06.047+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-84] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:45:06.048+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-84] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:45:06.049+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-84] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:45:06.049+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-84] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"answer","destination":"D005","content":"{\"type\":\"answer\",\"sdp\":\"...(truncated)
2024-05-08T20:45:49.662+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.e.m.controller.FileUploadController    : File Upload Controller is called!
2024-05-08T20:45:49.663+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.e.m.controller.FileUploadController    : patientId is P007
2024-05-08T20:45:49.663+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.e.m.controller.FileUploadController    : fileName is blob
2024-05-08T20:45:49.663+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.e.m.controller.FileUploadController    : MimeType is image/png
2024-05-08T20:45:49.664+08:00  INFO 17108 --- [medshare] [http-nio-8080-exec-3] c.e.m.controller.FileUploadController    : File Upload Controller is ended!
2024-05-08T20:46:08.647+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-97] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.648+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-97] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.650+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-97] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-offer","destination":"D005","content":"{\"type\":\"offer\",\"sdp\...(truncated)
2024-05-08T20:46:08.651+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-97] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.651+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-97] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-offer","destination":"D005","content":"{\"type\":\"offer\",\"sdp\...(truncated)
2024-05-08T20:46:08.652+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-100] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-103] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-100] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-106] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-103] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-106] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-109] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-106] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-103] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-109] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.653+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.654+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-106] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.654+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-103] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.654+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.655+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-109] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.655+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-106] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.655+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.655+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-109] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.655+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-103] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.656+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-109] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.717+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-112] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.718+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-112] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.719+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-112] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.719+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-112] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.719+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-112] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.720+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-115] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.720+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-115] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.721+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-115] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.722+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-115] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.722+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-115] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.827+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-118] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.828+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-118] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.828+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-118] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.829+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-118] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.829+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-118] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.838+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-99] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=ei51d3gg, lookupDestination='/signal/offer'
2024-05-08T20:46:08.838+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-99] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:08.839+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-99] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D005/queue/offer session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:08.839+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-99] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:08.840+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-99] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-usery1nozvlu session=null payload={"type":"video-candidate","destination":"D005","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:09.207+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-101] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=y1nozvlu, lookupDestination='/signal/offer'
2024-05-08T20:46:09.208+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-104] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=y1nozvlu, lookupDestination='/signal/offer'
2024-05-08T20:46:09.208+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-101] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:09.208+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-104] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:09.208+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-110] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/signal/offer session=y1nozvlu, lookupDestination='/signal/offer'
2024-05-08T20:46:09.209+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-110] .WebSocketAnnotationMethodMessageHandler : Invoking SignalController#processOffer[1 args]
2024-05-08T20:46:09.209+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"video-candidate","destination":"D001","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:09.209+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-101] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"video-answer","destination":"D001","content":"{\"type\":\"answer\",\"sd...(truncated)
2024-05-08T20:46:09.209+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:09.209+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-110] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/user/D001/queue/offer session=null payload={"type":"video-candidate","destination":"D001","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:09.209+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-101] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:09.210+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-110] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-05-08T20:46:09.210+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userei51d3gg session=null payload={"type":"video-candidate","destination":"D001","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:09.210+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-101] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userei51d3gg session=null payload={"type":"video-answer","destination":"D001","content":"{\"type\":\"answer\",\"sd...(truncated)
2024-05-08T20:46:09.210+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-110] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/offer-userei51d3gg session=null payload={"type":"video-candidate","destination":"D001","content":"{\"candidate\":\"candi...(truncated)
2024-05-08T20:46:35.027+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-103] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=ei51d3gg
2024-05-08T20:46:35.028+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=ei51d3gg] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:46:35.028+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session ei51d3gg
2024-05-08T20:46:35.028+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-114] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=ei51d3gg
2024-05-08T20:46:35.028+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-52] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@6ff23098}, simpHeartbeat=[J@6135c316, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@6ff23098, simpSessionId=ei51d3gg}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@6ff23098, simpSessionId=ei51d3gg}]
2024-05-08T20:46:35.029+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-53] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@6ff23098}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@6ff23098, simpSessionId=ei51d3gg}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@6ff23098, simpSessionId=ei51d3gg}]
2024-05-08T20:46:41.822+08:00 DEBUG 17108 --- [medshare] [MessageBroker-1] o.s.w.s.s.t.h.DefaultSockJsService       : Closed 1 sessions: [ei51d3gg]
2024-05-08T20:46:59.001+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : WebSocketServerSockJsSession[id=y1nozvlu] closed with CloseStatus[code=1000, reason=null]
2024-05-08T20:46:59.001+08:00 DEBUG 17108 --- [medshare] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session y1nozvlu
2024-05-08T20:46:59.002+08:00 DEBUG 17108 --- [medshare] [clientInboundChannel-117] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=y1nozvlu
2024-05-08T20:46:59.003+08:00 DEBUG 17108 --- [medshare] [clientOutboundChannel-54] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true, user=com.example.medshare.config.AuthHandshakeInterceptor$1@12e7c35f}, simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@12e7c35f, simpSessionId=y1nozvlu}], simpUser=com.example.medshare.config.AuthHandshakeInterceptor$1@12e7c35f, simpSessionId=y1nozvlu}]
